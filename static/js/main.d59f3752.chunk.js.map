{"version":3,"sources":["util/JSONClientSingleton.js","AboutView.js","ThemeSelector.js","Screensaver.js","util/ConfigStorageHelper.js","RoomplanSelector.js","DeviceListView.js","widgets/helpers/GenericWidget.js","widgets/AlertWidget.js","widgets/ContactWidget.js","widgets/LoadingWidget.js","widgets/CustomSensorWidget.js","widgets/GasWidget.js","widgets/LuxWidget.js","util/MqttClientSingleton.js","widgets/MediaPlayer.js","widgets/MeterWidget.js","widgets/MotionSensorWidget.js","widgets/PercentWidget.js","widgets/RainWidget.js","widgets/SmokeSensorWidget.js","widgets/SwitchOnOff.js","widgets/SwitchBlinds.js","widgets/SwitchDimmer.js","widgets/SwitchLock.js","widgets/SwitchRGBW.js","widgets/SwitchSelector.js","widgets/TemperatureWidget.js","widgets/TextWidget.js","widgets/ThermostatWidget.js","widgets/WattWidget.js","widgets/WeatherInfoWidget.js","widgets/WeatherWidget.js","widgets/WindWidget.js","widgets/DeviceWidget.js","widgets/SceneWidget.js","SettingsView.js","Themes.js","App.js","registerServiceWorker.js","index.js","../public/icon/icon_64.png","util/LocalStorage.js","widgets/helpers/Slider.js"],"names":["singletonInstance","GET_ALL_DEVICES","type","filter","order","GET_ALL_SCENES","JSONClientSingleton","_this","this","Object","_mnt_c_Users_Tom_Documents_dev_Reacticz_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","getAllScenesThrottled","callback","throttleTimeout_","getAllScenes","global","setTimeout","get","debounceErrors_","isConnected","eventHandler","opt_data","url","opt_login","opt_password","_this2","serverUrl","axiosConfig","auth","username","password","axios","head","then","response","setConnected_","catch","error","data","keyvals","key","hasOwnProperty","call","push","encodeURIComponent","join","queryData","_this3","opt_callback","arguments","length","undefined","status","console","log","objectToQuery","alert","window","DEFAULT_SCREENSAVER_DELAY_SEC","DEFAULT_SCREENSAVER_CONFIG","delay","SCREENSAVER_TYPE","BLANK","AboutView","props","_mnt_c_Users_Tom_Documents_dev_Reacticz_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_mnt_c_Users_Tom_Documents_dev_Reacticz_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","handleDashboardCheckChange","event","setState","exportDashboard","target","checked","handleZoomChange","onZoomChange","value","handleToggleScreensaver","newConfig","assign","screensaverConfig","onScreensaverConfigChange","handleChangeScreensaverDelay","handleChangeScreensaverType","generateExportUrl","params","s","appState","serverConfig","t","themeId","state","w","whitelist","lightLayout","layout","concat","i","moved","static","l","n","configName","document","location","href","split","replace","LZString","compressToEncodedURIComponent","JSON","stringify","handleFocus","select","copyUrl","clearTimeout","copyResultTimeoutId","refs","succeeded","execCommand","err","blur","copyResult","exportUrl","screensaverOn","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","src","icon","alt","appInfo","version","rel","_ThemeSelector__WEBPACK_IMPORTED_MODULE_7__","themes","currentTheme","onThemeChange","min","max","zoom","step","onChange","htmlFor","id","CLOCK","multiConfig","ref","onFocus","readOnly","onClick","Component","ThemeSelector","themeIds","themeKey","options","map","MONITORED_EVENTS","DEBOUNCE_DELAY_MS","TYPE","Screensaver","stopTimer","activityTimeoutId","restartTimer","show","visible","onMove","stopPropagation","preventDefault","debounceTimeoutId","unmounted","date","Date","dateIntervalId","size","Math","innerHeight","innerWidth","addEventListener","passive","setInterval","clearInterval","removeEventListener","style","backgroundColor","theme","appBackground","react_clock__WEBPACK_IMPORTED_MODULE_6___default","hourHandLength","hourHandOppositeLength","hourHandWidth","hourMarksLength","hourMarksWidth","minuteHandLength","minuteHandOppositeLength","minuteHandWidth","minuteMarksLength","minuteMarksWidth","secondHandLength","secondHandOppositeLength","secondHandWidth","ConfigStorageHelper","classCallCheck","configs_","store","LocalStorage","migrateConfigs","read","configs","write","getConfigs","currentId","opt_prev","configId","partialConfigObject","slice","modifiedConfig","setConfigs","splice","opt_config","newId","name","allLayouts","getKeys","propertyName","indexOf","substring","config","delete","reload","RoomplanSelector","possibleConstructorReturn","getPrototypeOf","handleSelect","needConfirm","confirm","onWhitelistChange","message","param","idx","json","result","getUid","names","sceneIds","used","scenes","scene","fullId","Type","device","sceneId","devidx","groupId","react_default","DeviceListView","handleListChange","checkboxEl","idxWhitelist","handleUnusedFilterChange","showUnused","handleNameChange","onNameChange","handleFilterChange","clearFilter","addDevices","devices","deviceTypes","deviceType","sort","getAllDevices","showSection","list","b","Name","escape","toLowerCase","match","Used","sections","renderDeviceTypeSection","placeholder","src_RoomplanSelector","GenericWidget","htmlString","__html","sanitizeHtml","allowedTags","defaults","background","unlockedBackground","color","text","fill","isOn","buttonOn","buttonOff","safeValue1","sanitize","value1","safeValue2","value2","class","layoutWidth","xlinkHref","children","label","value1Class","dangerouslySetInnerHTML","value2Class","AlertWidget","widgets_helpers_GenericWidget","level","ContactWidget","Number","LoadingWidget","failed","timeout","onRemove","CustomSensorWidget","deviceSpec","src_widgets_LoadingWidget","GasWidget","usage","toFixed","LuxWidget","lux","MqttClientSingleton","client","brokerUrl","close","mqttConfig","mqtt","connect","e","on","subscribe","topic","parse","toString","end","publish","qos","MediaPlayer","handleClick","command","switchcmd","textOn","valueText","textOff","valuePlaying","playing","getButtonStyle","title","MeterWidget","unit","MotionSensorWidget","PercentWidget","radius","dashArray","PI","dashOffset","circleStyle","stroke","strokeDasharray","barStyle","strokeDashoffset","viewBox","xmlns","r","cx","cy","RainWidget","rain","rate","SmokeSensorWidget","SwitchOnOff","getPushCommand","pushOn","pushOff","sceneType","parseInt","swapStyles","gradient","textMixed","buttonMixed","SwitchBlinds","open","sendValue","stop","valueOpen","valueClosed","valueStopped","inverted","stype","val","opt_useJSON","isOpen","isClosed","buttonStyleOpen","buttonStyleStop","buttonStyleClose","SwitchDimmer","handleValueChange","sendOff","scale","round","toggle","localValue","fadeTimeoutId","showBar","touchTarget","touchStartData","buttonStyle","progressStyle","containerStyle","maxDimLevel","currentPct","transform","toggleLabel","nvalue","Slider","disabled","throttle","SwitchLock","iconId","SwitchRGBW","changeHue","hue","sat","changeColor","hex","brightness","iswhite","toWhite","num","g","lum","hue2rgb","p","q","toHexStr","lv1","hslToHex","lv2","lv3","lv4","borderColor","edgeTolerance","SwitchSelector","buttonStyleOff","buttonStyleOn","carretStyle","levels","index","levelValue","selected","useButtons","TemperatureWidget","humonly","humidityStatus","humstat","temp","hum","TextWidget","textBits","ThermostatWidget","decreaseSetpoint","updateSetpoint","increaseSetpoint","settingValue","targetValue","parseFloat","throttleId","delta","emitSetpointUpdate","svalue","updating","displayValue","WattWidget","prod","prodValue","powerValue","energyValue","WeatherInfoWidget","visibility","radiation","uv","WeatherWidget","svalue1","dtype","svalue2","baro","hidePressure","svalue4","forecast","svalue5","getProperties","WindWidget","speed","direction","bearing","DeviceWidget","switchType","requestDeviceSpec","src_widgets_SwitchBlinds","widgets_ContactWidget","src_widgets_SwitchLock","src_widgets_SwitchRGBW","src_widgets_SwitchDimmer","src_widgets_MediaPlayer","widgets_MotionSensorWidget","description","includes","widgets_SmokeSensorWidget","src_widgets_SwitchOnOff","src_widgets_SwitchSelector","LevelNames","SelectorStyle","src_widgets_AlertWidget","widgets_CustomSensorWidget","src_widgets_WattWidget","src_widgets_PercentWidget","src_widgets_WeatherInfoWidget","widgets_TextWidget","src_widgets_ThermostatWidget","svalue6","src_widgets_GasWidget","src_widgets_TemperatureWidget","src_widgets_LuxWidget","src_widgets_RainWidget","meterType","ValueUnits","widgets_MeterWidget","src_widgets_WeatherWidget","src_widgets_WindWidget","svalue3","defaultValue","SceneWidget","Status","SettingsView","handleChange","newPartialState","handleSubmit","mqttAuthChecked","mqttLogin","mqttPassword","domoticzAuthChecked","domoticzLogin","domoticzPassword","renderWelcomeMsg","importConfigPrompt","renderMqttAuthForm","renderDomoticzAuthForm","domoticzUrl","mqttBrokerUrl","mqttOk","serverStatus","domoticzOk","domoticz","onSubmit","Themes","Default","appText","menuIcon","menuIconSelected","overlayBackground","overlayText","Lighter","Light Blue","Light Green","Dark Grey","Dark","ResponsiveGridLayout","WidthProvider","Responsive","MAX_SCREENSAVER_DELAY_SEC","DELAY_OFF_VALUE","View","DASHBOARD","DEVICE_LIST","SERVER_SETTINGS","ABOUT","App","handlePopstate","loadConfig","mqttEventHandler","eventType","requestDeviceStatus","hasWhitelistedScenes","requestScenesStatus","render","domoticzEventHandler","updateDocumentTitle","getPrevConfig","getNewConfig","getNextConfig","configHelper","getNextId","deleteCurrentConfig","deleteConfig","nextConfigId","readSharedConfigFromUrl","opt_param","hash","decompressFromEncodedURIComponent","handleServerConfigChange","handleThemeChange","addConfig","handleConfigNameChange","handleDeviceListChange","storeConfigChange","prompt","connectClients","handleScreensaverConfigChange","abs","cleanupLayout","removeDevice","explodedId","rid","deviceSpecs","toggleMenu","menuOpen","toggleSettings","currentView","layoutLocked","toggleDeviceList","toggleAbout","toggleLayoutEdit","toMainView","onLayoutChange","renderCurrentView","src_SettingsView_0","src_DeviceListView_0","widgets","deviceLayout","deviceId","widget","widgets_SceneWidget","src_widgets_DeviceWidget","assertThisInitialized","fontSize","layouts","lg","onDragStop","onResizeStop","isDraggable","isResizable","compactType","breakpoints","md","sm","xs","xxs","cols","items","rowHeight","lastMqttMessage","setEventHandler","storedServerConfig","readConfigIdFromUrlParam","getConfig","onpopstate","setServerUrl","search","opt_noHistoryPush","history","pushState","opt_list","some","ids","maxY","updatedLayout","y","x","h","showFooter","footerStyle","height","lineHeight","shouldConfigure","view","menuIconStyle","menuIconSelectedStyle","appStyle","appBarStyle","display","body","renderFooter","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","src_App_0","getElementById","URL","process","origin","fetch","headers","ready","unregister","checkValidServiceWorker","registerServiceWorker","module","exports","hasLocalStorage","ls","localStorage","setItem","removeItem","getItem","keys","HORIZONTAL_THRESHOLD_RAD","componentDidMount","findDOMNode","_mnt_c_Users_Tom_Documents_dev_Reacticz_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","updateValue","throttleTimeoutId","emitChange","fadeBar","opt_value","onTouchStart","touches","pageX","pageY","rect","getBoundingClientRect","ignoringMove","onTouchMove","touch","changedTouches","angle","atan2","pct","left","width","onTouchEnd","valuePct","react__WEBPACK_IMPORTED_MODULE_6___default","transition","opacity"],"mappings":"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","file":"static/js/main.d59f3752.chunk.js","sourcesContent":["import axios from 'axios';\n\nlet singletonInstance = null;\n\nconst GET_ALL_DEVICES = {type: 'devices', filter: 'all', order: 'Name'};\nconst GET_ALL_SCENES = {type: 'scenes'};\n\nclass JSONClientSingleton {\n\n  /**\n   * A basic JSON API client proxy. Works as a singleton.\n   **/\n\n  constructor() {\n    if (singletonInstance) {\n      return singletonInstance;\n    }\n    this.throttleTimeout_ = null;\n    this.debounceErrors_ = false;\n    this.isConnected = false;\n    this.eventHandler = function(type, opt_data) {};\n    singletonInstance = this;\n    return singletonInstance;\n  }\n\n  setEventHandler(eventHandler) {\n    this.eventHandler = eventHandler;\n  }\n\n  setServerUrl(url, opt_login, opt_password) {\n    this.serverUrl = url;\n    this.axiosConfig = {};\n    if (opt_login && opt_password) {\n      this.axiosConfig.auth = {\n        username: opt_login,\n        password: opt_password\n      };\n    }\n\n    // Check if connection is ok with parameters\n    axios.head(this.serverUrl+ '/json.htm', this.axiosConfig).then(response => {\n      this.setConnected_(true);\n    }).catch(error => {\n      this.setConnected_(false);\n    });\n  }\n\n  getAllDevices(callback) {\n    this.get(GET_ALL_DEVICES, callback);\n  }\n\n  getAllScenesThrottled = (callback) => {\n    if (this.throttleTimeout_) {\n      return;\n    }\n    this.getAllScenes(callback);\n    this.throttleTimeout_ = global.setTimeout(\n      () => { this.throttleTimeout_ = null }, 500);\n  }\n\n  getAllScenes = (callback) => {\n    this.get(GET_ALL_SCENES, callback);\n  }\n\n  objectToQuery(data) {\n    const keyvals = [];\n    for (const key in data) {\n      if ({}.hasOwnProperty.call(data, key)) {\n        keyvals.push(key + '=' + encodeURIComponent(data[key]));\n      }\n    }\n    return keyvals.join('&');\n  }\n\n  get(queryData, opt_callback = function(data) {\n    if (data.status !== 'OK') {\n      console.log('JSON query failed', queryData);\n    }\n  }) {\n    if (!this.serverUrl) {\n      console.log('Server URL is not set, please check the settings');\n      return;\n    }\n    axios.get(this.serverUrl+ '/json.htm?' + this.objectToQuery(queryData), this.axiosConfig).then(response => {\n      opt_callback(response.data);\n    }).catch(error => {\n      if (!this.debounceErrors_) {\n        alert('Unable to reach Domoticz server.\\n\\nPlease check your Domoticz server URL in the settings and make sure Domoticz is online.');\n        window.setTimeout(() => (this.debounceErrors_ = false), 3000);\n        this.debounceErrors_ = true;\n      }\n      console.log('Unable to reach Domoticz', error);\n    });\n  }\n\n  setConnected_(isConnected) {\n    this.isConnected = isConnected;\n    this.eventHandler('connected', this.isConnected);\n  }\n\n}\n\nexport default JSONClientSingleton;\n","import React, { Component } from 'react';\nimport LZString from 'lz-string';\nimport ThemeSelector from './ThemeSelector';\nimport appInfo from './ext/package.json';\nimport select from 'select';\nimport {TYPE as SCREENSAVER_TYPE} from './Screensaver';\n\nimport icon from './ext/icon_64.png';\nimport './AboutView.css';\n\nconst DEFAULT_SCREENSAVER_DELAY_SEC = 60;\nconst DEFAULT_SCREENSAVER_CONFIG = { delay: -1, type: SCREENSAVER_TYPE.BLANK };\n\nclass AboutView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      copyResultTimeoutId: null,\n      copyResult: null,\n      exportDashboard: false,\n      exportUrl: ''\n    }\n  }\n\n  componentWillUnmount() {\n    window.clearTimeout(this.state.copyResultTimeoutId);\n  }\n\n  handleDashboardCheckChange = (event) => {\n    this.setState({\n      exportDashboard: event.target.checked,\n    });\n  }\n\n  handleZoomChange = (event) => {\n    this.props.onZoomChange && this.props.onZoomChange(event.target.value);\n  }\n\n  handleToggleScreensaver = (event) => {\n    const newConfig = Object.assign({}, this.props.screensaverConfig || DEFAULT_SCREENSAVER_CONFIG);\n    newConfig.delay = event.target.checked ? DEFAULT_SCREENSAVER_DELAY_SEC : -1;\n    this.props.onScreensaverConfigChange && this.props.onScreensaverConfigChange(newConfig);\n  }\n\n  handleChangeScreensaverDelay = (event) => {\n    const newConfig = Object.assign({}, this.props.screensaverConfig || DEFAULT_SCREENSAVER_CONFIG);\n    newConfig.delay = event.target.value;\n    this.props.onScreensaverConfigChange && this.props.onScreensaverConfigChange(newConfig);\n  }\n\n  handleChangeScreensaverType = (event) => {\n    const newConfig = Object.assign({}, this.props.screensaverConfig || DEFAULT_SCREENSAVER_CONFIG);\n    newConfig.type = event.target.value;\n    this.props.onScreensaverConfigChange && this.props.onScreensaverConfigChange(newConfig);\n  }\n\n  generateExportUrl = () => {\n    const params = {\n      s: this.props.appState && this.props.appState.serverConfig,\n      t: this.props.appState && this.props.appState.themeId\n    };\n    if (this.state.exportDashboard) {\n      params.w = this.props.appState.whitelist;\n      const lightLayout = this.props.appState.layout.concat([]);\n      for (let i = 0; i < lightLayout.length; i++) {\n        delete lightLayout[i].moved;\n        delete lightLayout[i].static;\n      }\n      params.l = lightLayout;\n      params.n = this.props.configName;\n    }\n    const url = document.location.href.split('?')[0].replace('#','') + '#' +\n        LZString.compressToEncodedURIComponent(JSON.stringify(params));\n    return url;\n  }\n\n  handleFocus = (event) => {\n    select(event.target);\n  }\n\n  copyUrl = () => {\n    global.clearTimeout(this.state.copyResultTimeoutId);\n    select(this.refs.url);\n    let succeeded = false;\n    try {\n      succeeded = document.execCommand('copy');\n    }\n    catch (err) {\n      console.log('Unable to copy', err);\n    }\n    this.refs.url.blur();\n    this.setState({\n      copyResult: succeeded ? 'Copied!' : 'Failed! Use Ctrl+C',\n      copyResultTimeoutId:\n          global.setTimeout(() => { this.setState({ copyResult: null }) }, 3000)\n    });\n  }\n\n  render() {\n    const url = this.generateExportUrl();\n    const screensaverConfig = this.props.screensaverConfig || DEFAULT_SCREENSAVER_CONFIG;\n    const screensaverOn = screensaverConfig.delay >= 0;\n    return (\n      <div className=\"AboutView\">\n        <div className=\"aboutHeader\">\n          <img src={icon} alt=\"Reacticz logo\"/>\n          <div>\n            <h1>Reacticz v{appInfo.version}</h1> - <a href=\"https://github.com/domoticz/Reacticz\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a>\n            <aside>A minimalistic Domoticz dashboard</aside>\n          </div>\n        </div>\n        <section>\n          <h2>Interface settings</h2>\n          <p>Color theme: <ThemeSelector themes={this.props.themes} currentTheme={this.props.appState && this.props.appState.themeId} onThemeChange={this.props.onThemeChange} /></p>\n          <p>Font size: <span className=\"zoomlabel\">Smaller</span><input className=\"zoomrange\" type=\"range\" min=\"0.7\" max=\"1.3\" value={this.props.zoom} step=\"0.1\" onChange={this.handleZoomChange}/><span className=\"zoomlabel\">Bigger</span></p>\n          <p><label htmlFor=\"toggleScreensaver\">Screensaver: </label><input id=\"toggleScreensaver\" type=\"checkbox\" onChange={this.handleToggleScreensaver}\n                  checked={screensaverOn} /> \n              {screensaverOn && <span><input type=\"number\" max=\"3600\" min=\"1\" step=\"1\" value={screensaverConfig.delay} id=\"delayInput\" onChange={this.handleChangeScreensaverDelay} /> <label htmlFor=\"delayInput\">seconds</label>,&nbsp;\n              <label htmlFor=\"screensaverType\">type: </label><select id=\"screensaverType\" onChange={this.handleChangeScreensaverType} value={screensaverConfig.type}>\n                <option value={SCREENSAVER_TYPE.BLANK}>Blank</option>\n                <option value={SCREENSAVER_TYPE.CLOCK}>Analog clock</option>\n              </select></span>}\n          </p>\n          <p><a href=\".\">Reload</a></p>\n        </section>\n        <section>\n          <h2>Export configuration</h2>\n          <p>To clone your settings to another device, share the URL below.</p>\n          <div className=\"exportOptions\">\n            <label>\n              <input type=\"checkbox\" checked={this.state.exportDashboard} onChange={this.handleDashboardCheckChange} /> include dashboard layout{this.props.multiConfig && ' (' + this.props.configName + ')'}\n            </label>\n          </div>\n          <div className=\"exportUrl\">\n            <input type=\"text\" className=\"url\" ref='url' value={url} onFocus={this.handleFocus} readOnly />\n            <button onClick={this.copyUrl}>{this.state.copyResult || 'Copy to Clipboard'}</button>\n          </div>\n          {this.props.multiConfig && this.state.exportDashboard && <em>Tip: repeat the operation with your other dashboards to add them too (they won't overwrite each other).</em>}\n        </section>\n      </div>\n    );\n  }\n\n}\n\nexport default AboutView\n","import React, { Component } from 'react';\n\nclass ThemeSelector extends Component {\n\n  onChange = (event) => {\n    this.props.onThemeChange(event.target.value);\n  }\n\n  render() {\n    const themeIds = [];\n    for (const themeKey in this.props.themes) {\n      if ({}.hasOwnProperty.call(this.props.themes, themeKey)) {\n        themeIds.push(themeKey);\n      }\n    }\n    const options = themeIds.map(\n      function(themeId) {\n        return (\n          <option key={themeId} value={themeId}>{themeId}</option>\n        );\n      }, this);\n    return (\n      <select className=\"ThemeSelector\" onChange={this.onChange} value={this.props.currentTheme}>{options}</select>\n    );\n  }\n\n}\n\nexport default ThemeSelector\n","import React, { Component } from 'react';\r\nimport Clock from 'react-clock';\r\n\r\nimport './Screensaver.css';\r\n\r\nconst MONITORED_EVENTS = [\"touchstart\", \"touchmove\", \"mousedown\", \"mousemove\", \"click\"];\r\nconst DEBOUNCE_DELAY_MS = 350;\r\n\r\nexport const TYPE = {\r\n  CLOCK: \"clock\",\r\n  BLANK: \"blank\"\r\n};\r\n\r\nclass Screensaver extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      visible: false,\r\n      activityTimeoutId: null,\r\n      date: new Date(),\r\n      dateIntervalId: null,\r\n      debounceTimeoutId: null,\r\n      size: Math.min(window.innerHeight, window.innerWidth) * .6\r\n    }\r\n    this.unmounted = false;\r\n  }\r\n\r\n  stopTimer = () => {\r\n    window.clearTimeout(this.state.activityTimeoutId);\r\n  }\r\n\r\n  restartTimer = () => {\r\n    this.stopTimer();\r\n    if (this.props.delay) {\r\n      this.setState({activityTimeoutId: window.setTimeout(this.show, this.props.delay * 1000)});\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    for (let i in MONITORED_EVENTS) {\r\n      window.addEventListener(MONITORED_EVENTS[i], this.onMove, { passive: false });\r\n    }\r\n    this.setState({dateIntervalId: window.setInterval(() => this.setState({ date: new Date() }), 1000)});\r\n    this.restartTimer();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unmounted = true;\r\n    this.stopTimer();\r\n    window.clearTimeout(this.state.debounceTimeoutId);\r\n    window.clearInterval(this.state.dateIntervalId);\r\n    for (let i in MONITORED_EVENTS) {\r\n      window.removeEventListener(MONITORED_EVENTS[i], this.onMove, { passive: false });\r\n    }\r\n  }\r\n\r\n  show = () => {\r\n    this.setState({visible: true});\r\n  }\r\n\r\n  onMove = (event) => {\r\n    if (this.state.visible) {\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n    }\r\n    this.stopTimer();\r\n    this.setState({debounceTimeoutId: window.setTimeout(() => {\r\n      if (this.unmounted) {\r\n        return;\r\n      }\r\n      this.restartTimer();\r\n      this.setState({visible: false});\r\n    }, DEBOUNCE_DELAY_MS)});\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.visible) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div className=\"Screensaver\" style={{backgroundColor: this.props.type === TYPE.CLOCK ? this.props.theme.appBackground : ''}}>\r\n        {this.props.type === TYPE.CLOCK && <Clock className=\"Clock\"\r\n            value={this.state.date} \r\n            size={this.state.size} \r\n            hourHandLength={60}\r\n            hourHandOppositeLength={20}\r\n            hourHandWidth={8}\r\n            hourMarksLength={20}\r\n            hourMarksWidth={8}\r\n            minuteHandLength={90}\r\n            minuteHandOppositeLength={20}\r\n            minuteHandWidth={6}\r\n            minuteMarksLength={6}\r\n            minuteMarksWidth={3}\r\n            secondHandLength={75}\r\n            secondHandOppositeLength={25}\r\n            secondHandWidth={3}\r\n          />}\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Screensaver\r\n","import LocalStorage from './LocalStorage'\n\nclass ConfigStorageHelper {\n\n  constructor() {\n    this.configs_ = null;\n    this.store = new LocalStorage();\n\n    // Remove this after a few weeks:\n    this.migrateConfigs();\n  }\n\n  getConfigs() {\n    if (!this.configs_) {\n      this.configs_ = this.store.read('configs') || [];\n    }\n    return this.configs_;\n  }\n\n  setConfigs(configs) {\n    this.store.write('configs', configs);\n    this.configs_ = configs;\n  }\n\n  getConfig(id) {\n    const configs = this.getConfigs();\n    return configs[id];\n  }\n\n  getNextId(currentId, opt_prev = false) {\n    const configs = this.getConfigs();\n    if (configs.length <= 1) {\n      return null;\n    }\n    let configId;\n    if (opt_prev) {\n      configId = currentId === 0 ? configs.length - 1 : currentId - 1;\n    } else {\n      configId = currentId === (configs.length - 1) ? 0 : currentId + 1;\n    }\n    return configId;\n  }\n\n  storeConfigChange(configId, partialConfigObject) {\n    const configs = this.getConfigs().slice(0);\n    const modifiedConfig = configs[configId] || {};\n    const newConfig = Object.assign(modifiedConfig, partialConfigObject);\n    configs[configId] = newConfig;\n    this.setConfigs(configs);\n  }\n\n  deleteConfig(configId) {\n    const configs = this.getConfigs().slice(0);\n    configs.splice(configId, 1);\n    this.setConfigs(configs);\n  }\n\n  addConfig(opt_config) {\n    const configs = this.getConfigs().slice(0);\n    const newId = configs.length;\n    const newConfig = opt_config || {\n      name: 'Dashboard ' + newId,\n      layout: [],\n      whitelist: []\n    };\n    configs.push(newConfig);\n    this.setConfigs(configs);\n    return newId;\n  }\n\n  migrateConfigs() {\n    const allLayouts = this.store.getKeys().filter(function (propertyName) {\n      return propertyName.indexOf(\"layout\") === 0;\n    });\n    if (allLayouts.length === 0 || this.getConfigs().length > 0) {\n      // No migration required.\n      return;\n    }\n    const configs = [];\n    for (let i = 0; i < allLayouts.length; i++) {\n      const id = allLayouts[i].substring(6);\n      let config = {};\n      // Compatibility mode: attempt to load from old system and migrate data.\n      const layout = this.store.read('layout' + id);\n      if (layout) {\n        config.layout = layout;\n        this.store.delete('layout' + id);\n      }\n      const whitelist = this.store.read('whitelist' + id);\n      if (whitelist) {\n        config.whitelist = whitelist;\n        this.store.delete('whitelist' + id);\n      }\n      if (config.whitelist || config.layout) {\n        config.name = 'Dashboard' + (id ? ' ' + id : '');\n        configs.push(config);\n      }\n    }\n    console.log('Migrated ' + allLayouts.length + ' layout configuration(s).');\n    this.store.write('configs', configs);\n    document.location.reload();\n  }\n\n}\n\nexport default ConfigStorageHelper;\n","import React, { Component } from 'react';\nimport JSONClientSingleton from './util/JSONClientSingleton'\n\nclass RoomplanSelector extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      names: [],\n      idx: [],\n      sceneIds: []\n    };\n    this.json = new JSONClientSingleton();\n  }\n\n  componentDidMount() {\n    this.json.get({\n      type: 'plans',\n      order: 'name',\n      used: 'true'\n    }, (data) => {\n      if (data.status !== \"OK\") {\n        alert(\"Unable to get floor plans.\");\n        return;\n      }\n      if (!data.result) {\n        return;\n      }\n      const names = [];\n      const idx = [];\n      for (let i = 0 ; i < data.result.length; i++) {\n        names.push(data.result[i]['Name']);\n        idx.push(data.result[i]['idx']);\n      }\n      this.setState({names: names, idx: idx});\n    });\n    this.json.getAllScenes((data) => {\n      if (data.status !== \"OK\") {\n        alert(\"Unable to get scenes status.\");\n        return;\n      }\n      if (!data.result) {\n        return;\n      }\n      const scenes = data.result;\n      const sceneIds = [];\n      for (let i = 0; i < scenes.length; i++) {\n        const scene = scenes[i];\n        const fullId = (scene.Type === 'Group' ? 'g' : 's') + '|' + scene.idx;\n        sceneIds.push(fullId);\n      }\n      this.setState({sceneIds: sceneIds});\n    });\n  }\n\n  getUid(device) {\n    if (device.type === 1) {\n      const sceneId = 's|' + device.devidx;\n      if (this.state.sceneIds.indexOf(sceneId) >= 0) {\n        return sceneId;\n      }\n      const groupId = 'g|' + device.devidx;\n      if (this.state.sceneIds.indexOf(groupId) >= 0) {\n        return groupId;\n      }\n      alert('Unknown scene id: ' + device.devidx);\n    }\n    return 'd|' + device.devidx;\n  }\n\n  handleSelect = (event) => {\n    if (event.target.value === \"none\") {\n      return;\n    }\n    if (this.props.needConfirm && !window.confirm(\n        'Replace current selection with the devices of this room ?')) {\n      return;\n    }\n    // Force-reset layout.\n    this.props.onWhitelistChange([]);\n    const message = {\n      type: 'command',\n      param: 'getplandevices',\n      idx: event.target.value\n    };\n    this.json.get(message, (data) => {\n      const whitelist = [];\n      if (data.result) {\n        for (let i = 0 ; i < data.result.length; i++) {\n          whitelist.push(this.getUid(data.result[i]));\n        }\n      }\n      this.props.onWhitelistChange(whitelist);\n    });\n  }\n\n  render() {\n    const options = [];\n    if (this.state.idx.length) {\n      options.push(<option key='nofp' value='none'>select by room plan</option>);\n      for (let i = 0; i < this.state.idx.length; i++) {\n        const id = this.state.idx[i];\n        options.push(\n          <option key={'fp' + id} value={id}>{this.state.names[i]}</option>\n        );\n      };\n    }\n    return (\n      <span>\n        {options.length ? <span>, or <select value=\"none\" onChange={this.handleSelect}>{options}</select></span> : ''}\n      </span>\n    );\n  }\n\n}\n\nexport default RoomplanSelector\n","import React, { Component } from 'react';\nimport RoomplanSelector from './RoomplanSelector'\nimport JSONClientSingleton from './util/JSONClientSingleton'\n\nimport './DeviceListView.css';\n\nclass DeviceListView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      deviceTypes: [],\n      devices: {},\n      filter: \"\",\n      showUnused: false\n    };\n    this.json = new JSONClientSingleton();\n  }\n\n  handleListChange = (event) => {\n    const checkboxEl = event.target;\n    if (checkboxEl.checked && this.props.idxWhitelist.indexOf(checkboxEl.value) < 0) {\n      // Add device\n      this.props.onWhitelistChange(this.props.idxWhitelist.concat([checkboxEl.value]));\n    } else {\n      // Remove device\n      const result = this.props.idxWhitelist.slice(0);\n      result.splice(this.props.idxWhitelist.indexOf(checkboxEl.value), 1);\n      this.props.onWhitelistChange(result);\n    }\n  }\n\n  handleUnusedFilterChange = (event) => {\n    const checkboxEl = event.target;\n    this.setState({showUnused: checkboxEl && checkboxEl.checked});\n  }\n\n  handleNameChange = (event) => {\n    const name = event.target.value;\n    this.props.onNameChange(name);\n  }\n\n  handleFilterChange = (event) => {\n    const filter = event.target.value;\n    this.setState({filter: filter});\n  }\n\n  clearFilter = () => {\n    this.setState({filter: \"\"});\n  }\n\n  componentDidMount() {\n    this.json.getAllDevices(this.addDevices);\n    // We need to poll scenes separately because for some reason, when calling \n    // JSON API for type=devices without specifying the used=true param (as \n    // getAllDevices above does), scenes are omitted.\n    this.json.getAllScenes(this.addDevices);\n  }\n\n  addDevices = (data) => {\n    const devices = Object.assign({}, this.state.devices);\n    const deviceTypes = this.state.deviceTypes;\n    for (let i = 0 ; i < data.result.length; i++) {\n      const deviceType = data.result[i]['Type'];\n      if (!devices[deviceType]) {\n        devices[deviceType] = [];\n        deviceTypes.push(deviceType);\n      }\n      devices[deviceType].push(data.result[i]);\n    }\n    this.setState({deviceTypes: deviceTypes.sort(), devices: devices});\n  }\n\n  getUid(device) {\n    switch(device.Type) {\n      case 'Scene':\n        return 's|' + device.idx;\n      case 'Group':\n        return 'g|' + device.idx;\n      default:\n        return 'd|' + device.idx;\n    }\n  }\n\n  renderDeviceTypeSection(type) {\n    const devices = this.state.devices[type];\n    let showSection = false;\n    const list = devices.sort((a, b) => b.Name >= a.Name ? -1 : 1).map(\n        function(device) {\n          const id = this.getUid(device);\n          if (escape(device.Name).toLowerCase().match(escape(this.state.filter).toLowerCase())) {\n            if (!this.state.showUnused && device.Used === 0) {\n              return null;\n            }\n            showSection = true;\n            return (\n              <li key={id} className={device.Used === 0 ? \"unused\" : \"\"}><label><input type=\"checkbox\" value={id} onChange={this.handleListChange} checked={this.props.idxWhitelist.indexOf(id) >= 0}/>{device.Name}</label></li>\n            );\n          } else {\n            return null;\n          }\n        }, this);\n    if (!showSection) {\n      return null;\n    }\n    return (\n      <section key={type}>\n        <h3>{type}</h3>\n        <ul>{list}</ul>\n      </section>\n    )\n  }\n\n  render() {\n    const sections = [];\n    for (let i = 0; i < this.state.deviceTypes.length; i++) {\n      sections.push(this.renderDeviceTypeSection(this.state.deviceTypes[i]));\n    };\n\n    return (\n      <div className=\"DeviceListView\">\n        <p><label>\n          Dashboard name:&nbsp;\n          <input type=\"text\" value={this.props.name} name=\"name\" placeholder=\"Name\" onChange={this.handleNameChange} />\n        </label></p>\n        <span>Tick the devices to show in this dashboard</span>\n        <RoomplanSelector needConfirm={this.props.idxWhitelist &&\n            this.props.idxWhitelist.length > 0}\n            onWhitelistChange={this.props.onWhitelistChange}/>\n        <section className=\"searchbar\">\n          <div>\n            <input type=\"text\" value={this.state.filter} name=\"filter\" placeholder=\"Search devices\" onChange={this.handleFilterChange} /><button onClick={this.clearFilter}>Clear</button>\n          </div>\n          <div>\n            <input type=\"checkbox\" name=\"unused\" id=\"unused\" onChange={this.handleUnusedFilterChange} checked={this.state.showUnused}/><label htmlFor=\"unused\">Show unused</label>\n          </div>\n        </section>\n        {sections}\n      </div>\n    );\n  }\n}\n\nexport default DeviceListView;\n","import React, { Component } from 'react';\nimport sanitizeHtml from 'sanitize-html';\nimport './GenericWidget.css';\n\nclass GenericWidget extends Component {\n\n  sanitize(htmlString) {\n    return {__html: sanitizeHtml(htmlString, {\n      allowedTags: sanitizeHtml.defaults.allowedTags.concat([ 'img' ])})};\n  }\n\n  render() {\n    const theme = this.props.theme;\n    const style = theme ? {\n      background: this.props.readOnly ?\n          theme.unlockedBackground : theme.background,\n      color: theme.text,\n      fill: this.props.isOn === undefined ? '' :\n          (this.props.isOn ? theme.buttonOn : theme.buttonOff)\n    } : {};\n    const safeValue1 = this.sanitize(this.props.value1);\n    const safeValue2 = this.props.value2 === undefined ?\n        null : this.sanitize(this.props.value2);\n    return (\n      <div className={'GenericWidget '+ this.props.class} style={style}>\n        {this.props.icon && this.props.layoutWidth > 1 &&\n            <svg><use xlinkHref={'#' + this.props.icon}/></svg>}\n        {this.props.children}\n        <section>\n          <div>{this.props.label}</div>\n          <h2 className={this.props.value1Class ?\n              this.props.value1Class : \"value1\"}\n              dangerouslySetInnerHTML={safeValue1}></h2>\n          {safeValue2 && <div className={this.props.value2Class ?\n              this.props.value2Class : \"value2\"}\n              dangerouslySetInnerHTML={safeValue2}></div>}\n        </section>\n      </div>\n    );\n  }\n\n}\n\nexport default GenericWidget\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\nimport './AlertWidget.css';\n\nclass AlertWidget extends Component {\n\n  render() {\n    return (\n      <GenericWidget class={'AlertWidget level' + this.props.level} icon=\"warning\"\n          value1={this.props.value} {...this.props} />\n    );\n  }\n\n}\n\nexport default AlertWidget\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\n\nclass ContactWidget extends Component {\n\n  render() {\n    return (\n      <GenericWidget icon={this.props.value === 0 ? 'closed' : 'open' }\n          isOn={Number(this.props.value) > 0}\n          value1={this.props.value === 0 ? 'Closed' : 'Open'}\n          {...this.props} />\n    );\n  }\n\n}\n\nexport default ContactWidget\n","import React, { Component } from 'react';\nimport './LoadingWidget.css';\nimport '../App.css';\n\nclass LoadingWidget extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      failed: false,\n      timeout: null\n    }\n  }\n\n  componentWillMount() {\n    this.setState({ timeout:\n        window.setTimeout(() => this.setState({failed: true}), 5000) });\n  }\n\n  componentWillUnmount() {\n    window.clearTimeout(this.state.timeout);\n  }\n\n  render() {\n    const theme = this.props.theme;\n    const style = theme ? {\n      background: this.props.readOnly ? theme.unlockedBackground : theme.background,\n      color: theme.text\n    } : {};\n    return (\n      <div className=\"LoadingWidget\" style={style}>\n        {this.state.failed ? 'Offline ?' : 'Loading...'}\n        {this.state.failed && <button\n            onClick={this.props.onRemove}>Remove</button>}\n      </div>\n    );\n  }\n\n}\n\nexport default LoadingWidget\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\nimport LoadingWidget from './LoadingWidget'\n\nclass CustomSensorWidget extends Component {\n\n  render() {\n    if (!this.props.deviceSpec) {\n      return <LoadingWidget />\n    }\n    return (\n      <GenericWidget icon=\"information-variant\"\n          isOn={Number(this.props.value) > 0}\n          value1={[this.props.value, \" \", this.props.deviceSpec['SensorUnit']]}\n          {...this.props} />\n    );\n  }\n\n}\n\nexport default CustomSensorWidget\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\nimport './GasWidget.css';\n\nclass GasWidget extends Component {\n\n  render() {\n    return (\n      <GenericWidget class=\"GasWidget\"\n          icon=\"whatshot\"\n          isOn={Number(this.props.usage) > 0 }\n          value1={Number(this.props.usage).toFixed(0) / 1000}\n          {...this.props} />\n    );\n  }\n\n}\n\nexport default GasWidget\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\nimport './LuxWidget.css';\n\nclass LuxWidget extends Component {\n\n  render() {\n      return (\n      <GenericWidget class=\"LuxWidget\" icon=\"brightness-4\"\n        isOn={this.props.lux > 0}\n        value1={this.props.lux}\n        {...this.props} />\n      );\n  }\n}\n\nexport default LuxWidget\n","import mqtt from 'mqtt';\n\nlet singletonInstance = null;\n\nconst TOPIC_IN = 'domoticz/in';\nconst TOPIC_OUT = 'domoticz/out';\n\nclass MqttClientSingleton {\n\n  /**\n   * A basic mqtt client proxy. Works as a singleton. Constructed with a handler\n   * function that will be called with 2 params: event type (one of 'status',\n   * 'message', 'error'), and an optional data parameter (respectively, a\n   * boolean - true means connected, a data object, or an error message).\n   **/\n\n  constructor() {\n    if (singletonInstance) {\n      return singletonInstance;\n    }\n    this.client = null;\n    this.isConnected = false;\n    this.eventHandler = function(type, opt_data) {};\n    singletonInstance = this;\n    return singletonInstance;\n  }\n\n  setEventHandler(eventHandler) {\n    this.eventHandler = eventHandler;\n  }\n\n  connect(brokerUrl, opt_login, opt_password) {\n    if (this.client) {\n      this.close();\n    }\n    if (!brokerUrl) {\n      return;\n    }\n    try {\n      this.mqttConfig = {};\n      if (opt_login  && opt_password) {\n        this.mqttConfig = {\n          username: opt_login,\n          password: opt_password\n        };\n      }\n      this.client = mqtt.connect(brokerUrl, this.mqttConfig);\n    } catch(e) {\n      alert('Connection to MQTT broker failed.\\n\\nPlease make sure the URL is correct and that it accepts WebSocket protocol.');\n      console.log('connection failed', e);\n      return;\n    }\n    // Register the listeners.\n    this.client.on('connect', () => {\n      this.client.subscribe(TOPIC_OUT);\n      this.setConnected_(true);\n    });\n    this.client.on('message', (topic, message) => {\n      const data = JSON.parse(message.toString());\n      this.eventHandler('message', data);\n    });\n    this.client.on('error', (error) => {\n      console.log('mqtt client error:', error);\n      this.eventHandler('error', error);\n    });\n    this.client.on('close', () => {\n      this.setConnected_(false);\n    });\n  }\n\n  close() {\n    this.client.end(true /* force */);\n    this.client = null;\n    this.setConnected_(false);\n  }\n\n  publish(data) {\n    if (!this.isConnected) {\n      console.log('Cannot publish message, client is not connected', data);\n      return;\n    }\n    this.client.publish(TOPIC_IN, JSON.stringify(data), {qos: 2});\n  }\n\n  setConnected_(isConnected) {\n    this.isConnected = isConnected;\n    this.eventHandler('connected', this.isConnected);\n  }\n}\n\nexport default MqttClientSingleton;\n","import React, { Component } from 'react';\nimport MqttClientSingleton from '../util/MqttClientSingleton'\nimport './SwitchOnOff.css';\nimport './MediaPlayer.css';\n\nclass MediaPlayer extends Component {\n\n  constructor(props) {\n    super(props);\n    this.mqtt = new MqttClientSingleton();\n  }\n\n  handleClick = (event) => {\n    if (this.props.readOnly) {\n      return\n    }\n    const message = {\n      command: 'switchlight',\n      idx: this.props.idx,\n      switchcmd: this.props.value === 0 ? 'On' : 'Off',\n      level: 100\n    };\n    this.mqtt.publish(message);\n  }\n\n  getButtonStyle() {\n    const theme = this.props.theme;\n    if (!theme) {\n      return {};\n    }\n    const style = {\n      color: theme.textOn,\n      background: this.props.readOnly ? theme.unlockedBackground : theme.buttonOn\n    }\n    if (this.props.valueText === \"Off\" || this.props.value === 0) {\n      style.color = theme.textOff;\n      style.background =  this.props.readOnly ? theme.unlockedBackground : theme.buttonOff;\n    }\n    return style;\n  }\n\n  render() {\n    const valueText = this.props.valueText || (this.props.value === 0 ? 'Off' : 'On');\n    const valuePlaying = ((this.props.playing === \"100\" && valueText === \"On\") ? 'Loading...' : ((this.props.playing === \"100\" && valueText === \"Off\") ? 'Off' : this.props.playing));\n    return (\n      <button className=\"switch\" style={this.getButtonStyle()} onClick={this.handleClick} title={valueText}>{this.props.label}<i className=\"playing\">{valuePlaying}</i></button>\n    );\n  }\n\n}\n\nexport default MediaPlayer\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\n\nclass MeterWidget extends Component {\n\n  render() {\n    return (\n      <GenericWidget class=\"MeterWidget\" icon=\"equalizer\"\n          isOn={Number(this.props.value) > 0 }\n          value1={this.props.value +\n              (this.props.unit ? ' ' + this.props.unit : '')}\n          {...this.props} />\n    );\n  }\n\n}\n\nexport default MeterWidget\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\n\nclass MotionSensorWidget extends Component {\n\n  render() {\n    return (\n      <GenericWidget icon=\"run-fast\"\n        isOn={this.props.value > 0}\n        value1={this.props.value === 0 ? 'No motion' : 'Motion'}\n        {...this.props} />\n      );\n  }\n}\n\nexport default MotionSensorWidget\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\nimport './PercentWidget.css';\n\nclass PercentWidget extends Component {\n\n  constructor(props) {\n    super(props);\n    this.radius = 70;\n  }\n\n  render() {\n    const dashArray = Math.PI * this.radius * 2;\n    const dashOffset = ((100 - Number(this.props.value)) / 100) * Math.PI *\n       (this.radius * 2);\n    const theme = this.props.theme;\n    const circleStyle = theme ? {\n      stroke: theme.buttonOff,\n      strokeDasharray: dashArray\n    } : {};\n    const barStyle = theme ? {\n      stroke: theme.buttonOn,\n      strokeDasharray: dashArray,\n      strokeDashoffset: dashOffset\n    } : {};\n    return (\n      <GenericWidget class='PercentWidget'\n          value1={Number(this.props.value).toFixed(0)}\n          {...this.props}>\n        {this.props.layoutWidth > 1 &&\n            <svg className=\"doughnut\" viewBox=\"0 0 200 200\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n              <circle style={circleStyle} r={this.radius} cx=\"100\" cy=\"100\"></circle>\n              <circle className=\"bar\" style={barStyle} r={this.radius} cx=\"100\" cy=\"100\"></circle>\n            </svg>}\n      </GenericWidget>\n    );\n  }\n\n}\n\nexport default PercentWidget\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\nimport './RainWidget.css';\n\nclass RainWidget extends Component {\n\n  render() {\n    return (\n      <GenericWidget class=\"RainWidget\" icon=\"weather-rainy\"\n          isOn={this.props.rain > 0}\n          value1={this.props.rain}\n          value2={this.props.rate}\n          {...this.props} />\n    );\n  }\n\n}\n\nexport default RainWidget\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\n\nclass SmokeSensorWidget extends Component {\n\n  render() {\n    return (\n      <GenericWidget icon=\"led-on\"\n        isOn={this.props.value > 0}\n        value1={this.props.value === 0 ? 'Normal' : 'Fire detected'}\n        {...this.props} />\n      );\n  }\n}\n\nexport default SmokeSensorWidget\n","import React, { Component } from 'react';\nimport MqttClientSingleton from '../util/MqttClientSingleton'\nimport './SwitchOnOff.css';\n\nclass SwitchOnOff extends Component {\n\n  constructor(props) {\n    super(props);\n    this.mqtt = new MqttClientSingleton();\n  }\n\n  getPushCommand = () => {\n    if (this.props.pushOn) {\n      return 'On'\n    } else if (this.props.pushOff) {\n      return 'Off'\n    }\n    return 'Toggle';\n  }\n\n  handleClick = (event) => {\n    if (this.props.readOnly) {\n      return\n    }\n    const message = {\n      command: this.props.sceneType ? 'switchscene' : 'switchlight',\n      idx: parseInt(this.props.idx, 10),\n      switchcmd: this.getPushCommand()\n    };\n    this.mqtt.publish(message);\n  }\n\n  getButtonStyle(swapStyles = false) {\n    const theme = this.props.theme;\n    if (!theme) {\n      return {};\n    }\n    const style = {\n      color: swapStyles ? theme.textOff : theme.textOn,\n      fill: swapStyles ? theme.textOff : theme.textOn,\n      background: this.props.readOnly ? theme.unlockedBackground : ( swapStyles ? theme.buttonOff : theme.buttonOn )\n    }\n    const gradient = 'repeating-linear-gradient(-45deg, _corner, _corner 20%, _bg 20%, _bg 80%, _corner 80%, _corner 100%)';\n    if (this.props.pushOn && this.props.sceneType) {\n      style.color = theme.textMixed;\n      style.background = this.props.readOnly ? theme.unlockedBackground : gradient.replace(/_corner/g, theme.buttonMixed).replace(/_bg/g, theme.buttonOff);\n      return style;\n    }\n    if (this.props.valueText === \"Mixed\") {\n      style.color = theme.textMixed;\n      style.background = this.props.readOnly ? theme.unlockedBackground : gradient.replace(/_corner/g, theme.buttonOn).replace(/_bg/g, theme.buttonOff);\n    }\n    if (this.props.valueText === \"Off\" || this.props.value === 0) {\n      style.color = swapStyles ? theme.textOn : theme.textOff;\n      style.fill = swapStyles ? theme.textOn : theme.textOff;\n      style.background =  this.props.readOnly ? theme.unlockedBackground : ( swapStyles ? theme.buttonOn : theme.buttonOff );\n    }\n    return style;\n  }\n\n  render() {\n    const valueText = this.props.valueText || (this.props.value === 0 ? 'Off' : 'On');\n    return (\n      <button className=\"switch\" style={this.getButtonStyle()} onClick={this.handleClick} title={valueText}>{this.props.label}</button>\n    );\n  }\n\n}\n\nexport default SwitchOnOff\n","import React, { Component } from 'react';\nimport MqttClientSingleton from '../util/MqttClientSingleton'\nimport JSONClientSingleton from '../util/JSONClientSingleton'\n\nimport './SwitchBlinds.css';\n\nclass SwitchBlinds extends Component {\n\n  constructor(props) {\n    super(props);\n    this.mqtt = new MqttClientSingleton();\n    this.json = new JSONClientSingleton();\n    // nvalue for normal Blinds switch type.\n    this.valueOpen = 1;\n    this.valueClosed = 3;\n    this.valueStopped = 0;\n    this.inverted = false;\n    switch (this.props.type) {\n      case 'Blinds' :\n        switch (this.props.device.stype) {\n          case 'ASP' :\n            this.valueOpen = 0;\n            this.valueClosed = 1;\n            this.valueStopped = 2;\n            break;\n          default :\n            break;\n        }\n        break;\n      case 'Blinds Inverted' :\n        this.inverted = true;\n        this.valueOpen = 3;\n        this.valueClosed = 1;\n        break;\n      case 'Venetian Blinds EU' :\n        this.valueOpen = 17;\n        this.valueClosed = 18;\n        break;\n      case 'Venetian Blinds US' :\n        this.valueOpen = 15;\n        this.valueClosed = 16;\n        break;\n      default:\n        break;\n    }\n  }\n\n  open = () => {\n    this.sendValue(\"Off\");\n  }\n\n  stop = () => {\n    // Stop command isnt's working via MQTT, so we fall back to JSON.\n    this.sendValue(\"Stop\", true /* opt_useJSON */);\n  }\n\n  close = () => {\n    this.sendValue(\"On\");\n  }\n\n  sendValue(val, opt_useJSON = false) {\n    if (this.props.readOnly) {\n      return\n    }\n    const message = {\n      command: \"switchlight\",\n      idx: this.props.idx,\n      switchcmd: val\n    };\n    if (opt_useJSON) {\n      message.type = \"command\"\n      message.param = \"switchlight\";\n      this.json.get(message);\n    } else {\n      this.mqtt.publish(message);\n    }\n  }\n\n  render() {\n    const isOpen = this.props.value === this.valueOpen;\n    const isClosed = this.props.value === this.valueClosed;\n    const theme = this.props.theme;\n    const style = theme ? {\n      background: this.props.readOnly ? theme.unlockedBackground : theme.background,\n      color: theme.text\n    } : {};\n    const buttonStyleOpen = theme ? {\n      fill: isOpen ? theme.textOn : theme.textOff,\n      background: isOpen ? theme.buttonOn : theme.buttonOff\n    } : {};\n    const buttonStyleStop = theme ? {\n      fill: this.props.value === this.valueStopped ? theme.textOn : theme.textOff,\n      background: this.props.value === this.valueStopped ? theme.buttonOn : theme.buttonOff\n    } : {};\n    const buttonStyleClose = theme ? {\n      fill: isClosed ? theme.textOn : theme.textOff,\n      background: isClosed ? theme.buttonOn : theme.buttonOff\n    } : {};\n    return (\n      <div className=\"SwitchBlinds\" style={style}>\n        <h2>{this.props.label}</h2>\n        <section>\n          <button onClick={this.inverted ? this.close: this.open} className={'blindsOpen' + (isOpen ? ' selected' : '')} style={buttonStyleOpen}><svg className='icon'><use xlinkHref='#arrow-up-drop-circle' /></svg></button>\n          <button onClick={this.stop} className={'blindsStop' + (this.props.value === this.valueStopped ? ' selected' : '')} style={buttonStyleStop}><svg className='icon'><use xlinkHref='#stop-circle' /></svg></button>\n          <button onClick={this.inverted ? this.open : this.close} className={'blindsClose' + (isClosed ? ' selected' : '')} style={buttonStyleClose}><svg className='icon'><use xlinkHref='#arrow-down-drop-circle' /></svg></button>\n        </section>\n      </div>\n    );\n  }\n\n}\n\nexport default SwitchBlinds\n","import React, { Component } from 'react';\nimport LoadingWidget from './LoadingWidget';\nimport Slider from './helpers/Slider';\nimport MqttClientSingleton from '../util/MqttClientSingleton'\nimport './SwitchDimmer.css';\n\nclass SwitchDimmer extends Component {\n\n  constructor(props) {\n    super(props);\n    this.mqtt = new MqttClientSingleton();\n    this.state = {\n      localValue: this.props.value,\n      debounceTimeoutId: null,\n      fadeTimeoutId: null,\n      showBar: false\n    }\n    this.touchTarget = null;\n    this.touchStartData = null;\n  }\n\n  handleValueChange = (value) => {\n    if (value === 0) {\n      this.sendOff();\n    } else {\n      this.sendValue(value);\n    }\n  }\n\n  sendValue = (value) => {\n    const scale = this.props.deviceSpec['MaxDimLevel'] || 100;\n    const message = {\n      command: 'switchlight',\n      idx: this.props.idx,\n      switchcmd: 'Set Level',\n      level: Math.round(value * scale)\n    };\n    this.mqtt.publish(message);\n  }\n\n  sendOff = () => {\n    const message = {\n      command: 'switchlight',\n      idx: this.props.idx,\n      switchcmd: 'Off'\n    };\n    this.mqtt.publish(message);\n  }\n\n  toggle = () => {\n    if (this.props.readOnly) {\n      return\n    }\n    let message = {\n      command: 'switchlight',\n      switchcmd: 'Toggle',\n      idx: this.props.idx\n    }\n    this.mqtt.publish(message);\n  }\n\n  render() {\n    if (!this.props.deviceSpec) {\n      return <LoadingWidget />\n    }\n    const theme = this.props.theme;\n    const style = {\n      background: this.props.readOnly ? theme.unlockedBackground : theme.background,\n    }\n    const buttonStyle = theme ? {\n      background: this.props.value === 0 ? theme.buttonOff : theme.buttonOn,\n      color: this.props.value === 0 ? theme.textOff : theme.textOn\n    } : {};\n    const progressStyle = theme ? {\n      background: theme.buttonOn,\n      color: theme.textOn\n    } : {};\n    const containerStyle = theme ? {\n      background: theme.buttonOff,\n      color: theme.textOff\n    } : {};\n    const maxDimLevel = this.props.deviceSpec['MaxDimLevel'] || 100;\n    const currentPct = this.props.value / maxDimLevel * 100;\n    progressStyle.transform = 'translateX(' + (100 - currentPct) + '%)';\n    const toggleLabel = this.props.device.nvalue === 0 ? 'Off' : 'On';\n    return (\n      <div className=\"SwitchDimmer\" style={style}>\n        <button className=\"toggle\" style={buttonStyle} title={this.props.layoutWidth > 1 ? toggleLabel : this.props.label} onClick={this.toggle}>{this.props.layoutWidth > 1 ? '' : this.props.label}</button>\n        {this.props.layoutWidth > 1 && <div className=\"dimmerSlider\">\n          <div className=\"dimmerContainer\" style={containerStyle}>\n            <div className=\"dimmerProgress\" style={{transform: 'translateX(' + currentPct + '%)'}}>\n              <div className=\"dimmerProgressContent\" style={progressStyle}>\n                <p>{this.props.label}</p>\n              </div>\n            </div>\n            <p>{this.props.label}</p>\n          </div>\n          <Slider disabled={this.props.readOnly} throttle={200}\n              onChange={this.handleValueChange} value={this.props.value/maxDimLevel} />\n        </div>}\n      </div>\n    );\n  }\n}\n\nexport default SwitchDimmer\n","import React from 'react';\r\nimport SwitchOnOff from './SwitchOnOff';\r\nimport './SwitchLock.css';\r\nimport './SwitchOnOff.css';\r\n\r\nclass SwitchLock extends SwitchOnOff {\r\n\r\n  render() {\r\n    const valueText = this.props.value === 0 ? 'Unlocked' : 'Locked';\r\n    const iconId = this.props.value === 0 ? 'exit-to-app' : 'lock-outline';\r\n    return (\r\n      <button className=\"switch SwitchLock\" style={this.getButtonStyle(true)} onClick={this.handleClick} title={valueText}>\r\n      \t{this.props.layoutWidth > 1 &&\r\n      \t\t<svg className=\"lockicon\"><use xlinkHref={'#' + iconId}/></svg>}\r\n\t\t<div>{this.props.label}</div>\r\n      </button>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default SwitchLock\r\n","import React, { Component } from 'react';\nimport Slider from './helpers/Slider';\nimport JSONClientSingleton from '../util/JSONClientSingleton'\n\nimport './SwitchRGBW.css';\nimport './SwitchOnOff.css';\n\nclass SwitchRGBW extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      color: '',\n      hue: 0,\n      sat: 0\n    }\n    this.json = new JSONClientSingleton();\n  }\n\n  toggle = () => {\n    if (this.props.readOnly) {\n      return\n    }\n    let message = {\n      type: 'command',\n      param: 'switchlight',\n      switchcmd: 'Toggle',\n      idx: this.props.idx\n    }\n    this.json.get(message);\n  }\n\n  toHexStr(num) {\n    const hex = Math.round(num * 255).toString(16);\n    return hex.length < 2 ? '0' + hex : hex;\n  }\n\n  hslToHex(hue = 0, sat = 1, lum = 0.5) {\n    let r, g, b;\n    if (sat === 0) {\n        r = g = b = lum; // achromatic\n    } else {\n      const hue2rgb = function hue2rgb(p, q, t){\n        if (t < 0) t += 1;\n        if (t > 1) t -= 1;\n        if (t < 1/6) return p + (q - p) * 6 * t;\n        if (t < 1/2) return q;\n        if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n      }\n      const q = lum < 0.5 ? lum * (1 + sat) : lum + sat - lum * sat;\n      const p = 2 * lum - q;\n      r = hue2rgb(p, q, hue + 1/3);\n      g = hue2rgb(p, q, hue);\n      b = hue2rgb(p, q, hue - 1/3);\n    }\n    return '#' + this.toHexStr(r) + this.toHexStr(g) + this.toHexStr(b);\n  }\n\n  changeHue = (value) => {\n    this.setState({hue: value, sat: 1});\n  }\n\n  changeColor = (color) => {\n    if (this.props.readOnly) {\n      return\n    }\n    this.setState({color: color});\n    let message = {\n      type: 'command',\n      param: 'setcolbrightnessvalue',\n      idx: this.props.idx,\n      hex: color.replace('#',''),\n      brightness: 100,\n      iswhite: false\n    };\n    this.json.get(message);\n  }\n\n  toWhite = () => {\n    if (this.props.readOnly) {\n      return;\n    }\n    this.setState({sat: 0});\n    this.changeColor('#ffffff');\n  }\n\n  render() {\n    const theme = this.props.theme;\n    const style = {\n      background: this.props.readOnly ? theme.unlockedBackground : theme.background\n    };\n    const buttonStyle = theme ? {\n      background: this.props.value === 0 ? theme.buttonOff : theme.buttonOn,\n      color: this.props.value === 0 ? theme.textOff : theme.textOn\n    } : {};\n    const value = this.props.value === 0 ? 'Off' : 'On';\n    const lv1 = this.hslToHex(this.state.hue, this.state.sat,\n        this.state.sat ? .125 : .2);\n    const lv2 = this.hslToHex(this.state.hue, this.state.sat,\n        this.state.sat ? .25 : .4);\n    const lv3 = this.hslToHex(this.state.hue, this.state.sat,\n        this.state.sat ? .375 : .6);\n    const lv4 = this.hslToHex(this.state.hue, this.state.sat,\n        this.state.sat ? .5 : .8);\n    return (\n      <div className=\"SwitchRGBW\" style={style}>\n        <button className=\"toggle\" style={buttonStyle} title={value} onClick={this.toggle}>{this.props.label}</button>\n        {this.props.layoutWidth > 1 && <div className=\"colorSelect\">\n          <div className=\"swatch\">\n            <button title=\"Color at 25%\" style={{background: lv1}} onClick={() => this.changeColor(lv1)}></button>\n            <button title=\"Color at 50%\" style={{background: lv2}} onClick={() => this.changeColor(lv2)}></button>\n            <button title=\"Color at 75%\" style={{background: lv3}} onClick={() => this.changeColor(lv3)}></button>\n            <button title=\"Color at 100%\" style={{background: lv4}} onClick={() => this.changeColor(lv4)}></button>\n            <div style={{background: theme.buttonOn}}><button className=\"white\" style={{borderColor: theme.buttonOn}} title=\"Return to white\" onClick={this.toWhite}></button></div>\n          </div>\n          <div className=\"hue\">\n            <Slider disabled={this.props.readOnly} edgeTolerance={0.1}\n                onChange={this.changeHue} value={this.state.hue} />\n          </div>\n        </div>}\n      </div>\n    );\n  }\n\n}\n\nexport default SwitchRGBW\n","import React, { Component } from 'react';\nimport LoadingWidget from './LoadingWidget'\nimport MqttClientSingleton from '../util/MqttClientSingleton'\nimport './SwitchSelector.css';\nimport './SwitchOnOff.css';\n\nclass SwitchSelector extends Component {\n\n  constructor(props) {\n    super(props);\n    this.mqtt = new MqttClientSingleton();\n  }\n\n  handleSelect = (event) => {\n    if (this.props.readOnly) {\n      return\n    }\n    const message = {\n      command: 'switchlight',\n      idx: this.props.idx,\n      switchcmd: 'Set Level',\n      level: event.target.value\n    };\n    this.mqtt.publish(message);\n  }\n\n  render() {\n    if (!this.props.deviceSpec) {\n      return <LoadingWidget />\n    }\n    const theme = this.props.theme;\n    const style = theme ? {\n      background: this.props.readOnly ? theme.unlockedBackground : theme.background,\n      color: theme.text\n    } : {};\n    const buttonStyleOff = theme ? {\n      background: theme.buttonOff,\n      color: theme.textOff\n    } : {};\n    const buttonStyleOn = theme ? {\n      background: theme.buttonOn,\n      color: theme.textOn\n    } : {};\n    const carretStyle = theme ? {\n      color: this.props.value === '0' ? theme.textOff : theme.textOn\n    } : {};\n    const list = this.props.levels.map(function(level, index) {\n      const levelValue = index * 10;\n      const selected = parseInt(this.props.value, 10) === levelValue;\n      if (index === 0 && this.props.deviceSpec[\"LevelOffHidden\"] === true) {\n        return null;\n      }\n      if (this.props.useButtons) {\n        return (\n          <button key={index + '-' + level}\n                  className=\"switch\"\n                  style={selected ? buttonStyleOn : buttonStyleOff}\n                  value={levelValue} onClick={this.handleSelect}>{level}\n          </button>\n        );\n      }\n      return (\n        <option key={index + '-' + level} value={levelValue}>{level}</option>\n      );\n    }, this);\n    if (this.props.useButtons) {\n      return (<div className=\"selector\" style={style}><h2>{this.props.label}</h2><section>{list}</section></div>);\n    }\n    return (<div className=\"selector\" style={style}>\n        <h2>{this.props.label}</h2>\n        <div className=\"selectContainer\">\n        <i className=\"carret\" style={carretStyle}>▼</i>\n        <select disabled={this.props.readOnly} value={this.props.value} style={this.props.value === '0' ? buttonStyleOff : buttonStyleOn} onChange={this.handleSelect}>{list}</select>\n        </div></div>);\n  }\n}\n\nexport default SwitchSelector\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\nimport './TemperatureWidget.css';\n\nclass TemperatureWidget extends Component {\n\n  render() {\n    if (this.props.humonly !== undefined) {\n      const humidityStatus = ((this.props.humstat === 0) ? 'Normal' : (this.props.humstat === 1) ? 'Comfortable' : (this.props.humstat === 2) ? 'Dry' : 'Wet');\n      return (\n      <GenericWidget class=\"TemperatureWidget\" icon=\"water-percent\"\n        isOn={this.props.humstat > 2}\n        value1={this.props.humonly}\n        value1Class=\"humonly\"\n        value2={humidityStatus}\n        {...this.props} />\n      );\n    }\n      return (\n      <GenericWidget class=\"TemperatureWidget\" icon=\"thermometer-lines\"\n        isOn={this.props.temp > 19.9}\n        value1={this.props.temp}\n        value1Class=\"temp\"\n        value2={this.props.hum}\n        value2Class=\"hum\"\n        {...this.props} />\n      );\n  }\n\n}\n\nexport default TemperatureWidget\n","import React, { Component } from 'react';\nimport GenericWidget from \"./helpers//GenericWidget\";\n\nclass TextWidget extends Component {\n\n  render() {\n    const textBits = [];\n    const device = this.props.device;\n    for (const key in device) {\n      if ({}.hasOwnProperty.call(device, key) && !!key.match(/^svalue/)) {\n        textBits.push(device[key]);\n      }\n    }\n    // For some reason Domoticz gives me incomplete \"&nbsp\" (without \";\") HTML\n    // codes in one of my virtual devices.  So we are removing them here.\n    const text = textBits.join(' ').replace(/&nbsp/g, ' ');\n    return (\n      <GenericWidget value1={text} {...this.props} />\n    );\n  }\n\n}\n\nexport default TextWidget\n","import React, { Component } from 'react';\nimport JSONClientSingleton from '../util/JSONClientSingleton'\nimport './ThermostatWidget.css';\n\nclass ThermostatWidget extends Component {\n\n  constructor(props) {\n    super(props);\n    this.json = new JSONClientSingleton();\n    this.state = {\n      settingValue: false,\n      targetValue: parseFloat(this.props.value, 10),\n      throttleId: null\n    };\n  }\n\n  decreaseSetpoint = () => {\n    this.updateSetpoint(-0.5);\n  }\n\n  increaseSetpoint = () => {\n    this.updateSetpoint(0.5);\n  }\n\n  updateSetpoint(delta) {\n    if (this.props.readOnly) {\n      return\n    }\n    window.clearTimeout(this.state.throttleId);\n    let targetValue = this.state.settingValue ? this.state.targetValue :\n        parseFloat(this.props.value);\n    targetValue += delta;\n    this.setState({\n      settingValue: true,\n      targetValue: targetValue,\n      throttleId: window.setTimeout(() => this.emitSetpointUpdate(), 1000)\n    });\n  }\n\n  emitSetpointUpdate() {\n    const message = {\n      type: 'command',\n      param: 'udevice',\n      idx: this.props.idx,\n      nvalue: 0,\n      svalue: this.state.targetValue\n    };\n    this.json.get(message, () => {\n      this.setState({settingValue: false})\n    });\n  }\n\n  render() {\n    const updating = this.state.settingValue ?\n        this.state.targetValue !== parseFloat(this.props.value, 10) : false\n    const displayValue = updating ? Number(this.state.targetValue).toFixed(1) :\n        parseFloat(this.props.value, 10);\n    const theme = this.props.theme;\n    const style = theme ? {\n      background: this.props.readOnly ? theme.unlockedBackground : theme.background,\n      color: theme.text\n    } : {};\n    const buttonStyle = theme ? {\n      background: theme.buttonOff,\n      color: theme.textOff\n    } : {};\n    return (\n      <div className=\"ThermostatWidget\" style={style}>\n        <h2>{this.props.label}</h2>\n        <div className=\"controls\">\n          <button className=\"switch minus\" style={buttonStyle}\n                  onClick={this.decreaseSetpoint}>-</button>\n          <div className={updating ? 'blink' : ''}>{displayValue}</div>\n          <button className=\"switch plus\" style={buttonStyle}\n                  onClick={this.increaseSetpoint}>+</button>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default ThermostatWidget\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\nimport './WattWidget.css';\n\nclass WattWidget extends Component {\n\n  render() {\n    let prod = this.props.prodValue !== undefined;\n    return (\n      <GenericWidget class={'WattWidget' + (prod ? ' withProd' : '')}\n          icon=\"power\"\n          isOn={Number(this.props.powerValue) > 0 }\n          value1={Number(this.props.powerValue).toFixed(1)}\n          value2={prod ?\n            Number(this.props.prodValue).toFixed(1) :\n            Number(this.props.energyValue/1000).toFixed(3)}\n          {...this.props} />\n    );\n  }\n\n}\n\nexport default WattWidget\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\nimport './WeatherInfoWidget.css';\n\nclass WeatherInfoWidget extends Component {\n\n  render() {\n    if (this.props.visibility !== undefined) {\n      return (\n      <GenericWidget class=\"WeatherInfoWidget\" icon=\"eye\"\n        isOn={this.props.visibility > 0}\n        value1={this.props.visibility}\n        value1Class=\"visibility\"\n        {...this.props} />\n      );\n    }\n    if (this.props.radiation !== undefined) {\n      return (\n      <GenericWidget class=\"WeatherInfoWidget\" icon=\"weather-sunny\"\n        isOn={this.props.radiation > 0}\n        value1={this.props.radiation}\n        value1Class=\"radiation\"\n        {...this.props} />\n      );\n    }\n    return (\n    <GenericWidget class=\"WeatherInfoWidget\" icon=\"sunglasses\"\n      isOn={this.props.uv > 0}\n      value1={this.props.uv}\n      value1Class=\"uv\"\n      {...this.props} />\n    );\n  }\n}\n\nexport default WeatherInfoWidget\n","/*\nsvalue1 = temp\nsvalue2 = humidity\nsvalue3 = hum stat (0=Normal, 1=Comfortable, 2=Dry, 3=Wet)\nsvalue4 = baro hPa\nsvalue5 = forecast (0 = No info, 1 = Sunny, 2 = Partly cloudy, 3 = Cloudy, 4 = Rain)\n*/\n\nimport React, { Component } from 'react';\n\nimport './WeatherWidget.css';\n\nclass WeatherWidget extends Component {\n\n  getProperties() {\n    const device = this.props.device;\n    const temp = Number(device.svalue1).toFixed(1);\n    switch (device.dtype) {\n      case \"Temp + Humidity + Baro\" :\n        return { temp: temp, hum: device.svalue2, baro: this.props.hidePressure ? undefined : device.svalue4, forecast: device.svalue5 };\n      default:}\n  }\n\n  render() {\n    const params = this.getProperties();\n    const theme = this.props.theme;\n    const style = theme ? {\n      background: this.props.readOnly ? theme.unlockedBackground : theme.background,\n      color: theme.text\n    } : {};\n    return (\n      <div className=\"WeatherWidget\" style={style}>\n        {params.forecast !== undefined && this.props.layoutWidth > 1 && <div className={'weatherImage weather' + params.forecast}></div>}\n        <div className={'weatherData'}>\n          <div className=\"name\">{this.props.device.name}</div>\n          {params.temp !== undefined && <div className=\"temp\">{params.temp}</div>}\n          {params.baro !== undefined && <div className=\"baro\">{params.baro}</div>}\n          {params.hum !== undefined && <div className=\"hum\">{params.hum}</div>}\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default WeatherWidget\n","import React, { Component } from 'react';\nimport GenericWidget from './helpers/GenericWidget';\nimport './WindWidget.css';\n\nclass WindWidget extends Component {\n\n  render() {\n    return (\n      <GenericWidget class=\"WindWidget\"\n          isOn={this.props.speed > 0}\n          value1={this.props.direction}\n          value2={Number((this.props.speed / 10) * 3.6).toFixed(1)}\n          {...this.props}>\n        {this.props.layoutWidth > 1 &&\n            <svg style={{transform:'rotateZ(' + this.props.bearing +'deg)' }}>\n          <use xlinkHref=\"#navigation\"/>\n        </svg>}\n      </GenericWidget>\n    );\n  }\n\n}\n\nexport default WindWidget\n","import React, { Component } from 'react';\nimport AlertWidget from './AlertWidget'\nimport ContactWidget from './ContactWidget'\nimport CustomSensorWidget from './CustomSensorWidget'\nimport GasWidget from './GasWidget'\nimport LuxWidget from './LuxWidget'\nimport MediaPlayer from './MediaPlayer'\nimport MeterWidget from './MeterWidget'\nimport MotionSensorWidget from './MotionSensorWidget'\nimport PercentWidget from './PercentWidget'\nimport RainWidget from './RainWidget'\nimport SmokeSensorWidget from './SmokeSensorWidget'\nimport SwitchOnOff from './SwitchOnOff'\nimport SwitchBlinds from './SwitchBlinds'\nimport SwitchDimmer from './SwitchDimmer'\nimport SwitchLock from './SwitchLock'\nimport SwitchRGBW from './SwitchRGBW'\nimport SwitchSelector from './SwitchSelector'\nimport TemperatureWidget from './TemperatureWidget'\nimport TextWidget from './TextWidget'\nimport ThermostatWidget from './ThermostatWidget'\nimport WattWidget from './WattWidget'\nimport WeatherInfoWidget from './WeatherInfoWidget'\nimport WeatherWidget from './WeatherWidget'\nimport WindWidget from './WindWidget'\nimport './DeviceWidget.css';\nimport '../App.css';\n\nclass DeviceWidget extends Component {\n\n  componentWillMount() {\n    // Request device specs for widgets that need it.\n    if (this.props.deviceSpec) {\n      return;\n    }\n    switch (this.props.device.switchType) {\n      case 'Selector' :\n        this.props.requestDeviceSpec();\n        break;\n      case 'Dimmer' :\n        if (this.props.device.stype !== 'RGBW') {\n          this.props.requestDeviceSpec();\n        }\n        break;\n      default :\n        break;\n    }\n    switch (this.props.device.stype) {\n      case 'Custom Sensor' :\n        this.props.requestDeviceSpec();\n        break;\n      default :\n        break;\n    }\n  }\n\n  render() {\n    const device = this.props.device;\n    switch (device.switchType) {\n      case 'Blinds' :\n      case 'Blinds Inverted' :\n      case 'Venetian Blinds EU' :\n      case 'Venetian Blinds US' :\n        return <SwitchBlinds idx={device.idx} label={device.name}\n            value={device.nvalue} type={device.switchType} {...this.props} />;\n      case 'Contact' :\n      case 'Door Contact' :\n        return <ContactWidget label={device.name} value={device.nvalue}\n            {...this.props} />\n      case 'Door Lock' :\n        return <SwitchLock idx={device.idx} label={device.name}\n            value={device.nvalue} {...this.props} />;\n      case 'Dimmer' :\n        if (device.stype === 'RGBW') {\n          return <SwitchRGBW idx={device.idx} label={device.name}\n              value={device.nvalue} {...this.props} />;\n        }\n        return <SwitchDimmer idx={device.idx} label={device.name}\n            device={device}\n            value={device.nvalue === 0 ? 0 : device.svalue1} {...this.props} />;\n      case 'Media Player' :\n        return <MediaPlayer idx={device.idx} label={device.name}\n            value={device.nvalue}\n            playing={device.svalue1}\n            {...this.props} />;\n      case 'Motion Sensor' :\n        return <MotionSensorWidget label={device.name} value={Number(device.nvalue)}\n            {...this.props} />\n      case 'On/Off' :\n        if (device.stype === 'KD101 smoke detector' || (typeof device.description === 'string' && device.description.includes('Reacticz: smoke sensor'))) {\n          return <SmokeSensorWidget idx={device.idx} label={device.name}\n              value={device.nvalue} {...this.props} />;\n        }\n        return <SwitchOnOff idx={device.idx} label={device.name}\n            value={device.nvalue} {...this.props} />;\n      case 'Push Off Button' :\n        return <SwitchOnOff idx={device.idx} label={device.name}\n            pushOff={true} value={device.nvalue} {...this.props} />\n      case 'Push On Button' :\n        return <SwitchOnOff idx={device.idx} label={device.name}\n            pushOn={true} value={device.nvalue} {...this.props} />\n      case 'Selector' :\n        return <SwitchSelector idx={device.idx} label={device.name}\n            value={device.svalue1}\n            levels={device.LevelNames.split('|')}\n            useButtons={device.SelectorStyle === '0'}\n            {...this.props} />;\n      default :\n        break;\n    }\n    switch (device.dtype) {\n      case 'General' :\n        switch (device.stype) {\n          case 'Alert' :\n            return <AlertWidget label={device.name} value={device.svalue1}\n                level={device.nvalue} {...this.props} />\n          case 'Custom Sensor' :\n            return <CustomSensorWidget label={device.name} value={device.svalue1}\n                {...this.props} />\n          case 'kWh' :\n            return <WattWidget label={device.name} powerValue={device.svalue1}\n                energyValue={device.svalue2} {...this.props} />\n          case 'Percentage' :\n            return <PercentWidget label={device.name} value={device.svalue1}\n                {...this.props} />\n          case 'Solar Radiation' :\n            return <WeatherInfoWidget label={device.name} radiation={Number(device.svalue1)}\n                {...this.props} />\n          case 'Text' :\n            return <TextWidget label={device.name} value={device.svalue1}\n                {...this.props} />\n          case 'Visibility' :\n            return <WeatherInfoWidget label={device.name} visibility={Number(device.svalue1)}\n                {...this.props} />\n          default :\n            break;\n        }\n        break;\n      case 'Heating' :\n      case 'Thermostat' :\n        return <ThermostatWidget idx={device.idx} label={device.name}\n            value={device.svalue1} {...this.props} />\n      case 'P1 Smart Meter' :\n        switch (device.stype) {\n          case 'Energy' :\n            return <WattWidget label={device.name} powerValue={device.svalue5}\n                prodValue={device.svalue6}\n                {...this.props} />\n          case 'Gas' :\n            return <GasWidget label={device.name} usage={device.svalue1}\n                {...this.props} />\n          default :\n            break;\n        }\n        break;\n      case 'Humidity' :\n        return <TemperatureWidget label={device.name}\n            humonly={Number(device.nvalue)}\n            humstat={Number(device.svalue1)}\n            {...this.props} />\n      case 'Lux' :\n        return <LuxWidget label={device.name}\n            lux={Number(device.svalue1)}\n            {...this.props} />\n      case 'Rain' :\n        return <RainWidget label={device.name}\n            rain={Number(device.svalue2).toFixed(1)}\n            rate={Number(device.svalue1 / 100 ).toFixed(1)}\n            {...this.props} />\n      case 'RFXMeter' :\n        let unit, value = Number(device.svalue1);\n        switch (device.meterType) {\n          case 'Gas' :\n            return <GasWidget label={device.name} usage={device.svalue1}\n                {...this.props} />\n          case 'Counter':\n            unit = device.ValueUnits;\n            break;\n          case 'Energy' :\n          case 'Energy Generated' :\n            value /= 1000;\n            unit = 'kWh';\n            break;\n          case 'Water' :\n            value /= 1000;\n            unit = 'm3';\n            break;\n          case 'Unknown':\n          default :\n            break;\n        }\n        return <MeterWidget label={device.name} value={value} unit={unit}\n            {...this.props} />\n      case 'Temp' :\n        return <TemperatureWidget label={device.name}\n            temp={Number(device.svalue1).toFixed(1)}\n            {...this.props} />\n      case 'Temp + Humidity' :\n        return <TemperatureWidget label={device.name}\n            temp={Number(device.svalue1).toFixed(1)}\n            hum={Number(device.svalue2)}\n            {...this.props} />\n      case 'Temp + Humidity + Baro' :\n        return <WeatherWidget hidePressure='true' {...this.props} />;\n      case 'Usage' :\n        switch (device.stype) {\n          case 'Electric' :\n            return <WattWidget label={device.name} powerValue={device.svalue1}\n                {...this.props} />\n          default :\n            break;\n        }\n        break;\n      case 'UV' :\n        return <WeatherInfoWidget label={device.name}\n            uv={Number(device.svalue1)}\n            {...this.props} />\n      case 'Wind' :\n        return <WindWidget idx={device.idx} label={device.name}\n            bearing={Number(device.svalue1)}\n            direction={device.svalue2}\n            speed={Number(device.svalue3)}\n            {...this.props} />\n      default :\n        break;\n    }\n    return <div className=\"Unsupported\">\n        <h2>Unsupported type: {device.switchType || device.stype}</h2>\n        <textarea defaultValue={JSON.stringify(device)}></textarea></div>;\n  }\n\n}\n\nexport default DeviceWidget\n","import React, { Component } from 'react';\nimport SwitchOnOff from './SwitchOnOff'\nimport '../App.css';\n\nclass SceneWidget extends Component {\n\n  render() {\n    const scene = this.props.scene;\n    switch (scene.Type) {\n      case \"Group\" :\n      case \"Scene\" :\n        return <SwitchOnOff sceneType={scene.Type} idx={scene.idx} label={scene.Name}\n            valueText={scene.Status} pushOn={scene.Type === \"Scene\"}\n            {...this.props}/>;\n       default:\n         break;\n    }\n    return <div><h3>Unsupported type: {scene.Type}</h3><pre>{JSON.stringify(scene)}</pre></div>;\n  }\n\n}\n\nexport default SceneWidget\n","import React, { Component } from 'react';\nimport './SettingsView.css';\nimport icon from './ext/icon_64.png';\n\nclass SettingsView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      domoticzAuthChecked: props.config ?\n          !!props.config.domoticzAuthChecked : false,\n      domoticzLogin: props.config ? props.config.domoticzLogin : '',\n      domoticzPassword: props.config ? props.config.domoticzPassword : '',\n      domoticzUrl: props.config ? props.config.domoticzUrl : '',\n      mqttAuthChecked: props.config ? !!props.config.mqttAuthChecked : false,\n      mqttBrokerUrl: props.config ? props.config.mqttBrokerUrl : '',\n      mqttLogin: props.config ? props.config.mqttLogin : '',\n      mqttPassword: props.config ? props.config.mqttPassword : ''\n    };\n  }\n\n  handleChange = event => {\n    let target = event.target;\n    const newPartialState = {};\n    newPartialState[target.name] = target.type === \"checkbox\" ?\n        target.checked : target.value;\n    this.setState(newPartialState);\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const state = Object.assign({}, this.state);\n    if (!state.mqttAuthChecked) {\n      state.mqttLogin = '';\n      state.mqttPassword = '';\n    }\n    if (!state.domoticzAuthChecked) {\n      state.domoticzLogin = '';\n      state.domoticzPassword = '';\n    }\n    this.setState(state);\n    this.props.onChange(state);\n  }\n\n  renderWelcomeMsg = () => {\n    return(\n      <div>\n        <h1>Reacticz</h1>\n        <img src={icon} alt=\"Reacticz logo\"/>\n        <p>Welcome to Reacticz, the minimalistic <a href=\"http://www.domoticz.com\" target=\"_blank\" rel=\"noopener noreferrer\">Domoticz</a> dashboard!<br/>\n        Documentation is available on  <a href=\"https://github.com/domoticz/Reacticz#reacticz\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a>.</p>\n        <p>Please setup your server config to proceed.</p>\n        <p><em>Not your first time here?&nbsp;&nbsp;<button onClick={this.props.importConfigPrompt}>Import config from another dashboard</button></em></p>\n      </div>\n    );\n  }\n\n  renderMqttAuthForm = () => {\n    return(\n      <fieldset>\n        <label>\n          Username&nbsp;\n          <input type=\"text\" value={this.state.mqttLogin} name=\"mqttLogin\" placeholder=\"Username\" onChange={this.handleChange} />\n        </label>\n        <label>\n          Password&nbsp;\n          <input type=\"password\" value={this.state.mqttPassword} name=\"mqttPassword\" placeholder=\"Password\" onChange={this.handleChange} />\n        </label>\n      </fieldset>\n    );\n  }\n\n  renderDomoticzAuthForm = () => {\n    return(\n      <fieldset>\n        <label>\n          Username&nbsp;\n          <input type=\"text\" value={this.state.domoticzLogin} name=\"domoticzLogin\" placeholder=\"Username\" onChange={this.handleChange} />\n        </label>\n        <label>\n          Password&nbsp;\n          <input type=\"password\" value={this.state.domoticzPassword} name=\"domoticzPassword\" placeholder=\"Password\" onChange={this.handleChange} />\n        </label>\n      </fieldset>\n    );\n  }\n\n  render() {\n    const mqttOk = this.props.serverStatus && this.props.serverStatus.mqtt ? <span className=\"Status OK\">connected!</span> : <span className=\"Status\">unavailable</span>;\n    const domoticzOk = this.props.serverStatus && this.props.serverStatus.domoticz ? <span className=\"Status OK\">connected!</span> : <span className=\"Status\">unavailable</span>;\n\n    return (\n      <div className=\"SettingsView\">\n        {!(this.props.config && this.props.config.mqttBrokerUrl && this.props.config.domoticzUrl) && this.renderWelcomeMsg()}\n        <h2>Server Settings</h2>\n        <p>To use Reacticz you need a working Domoticz server and a configured MQTT broker with websockets enabled (see <a href=\"https://github.com/domoticz/Reacticz#requirements\" target=\"_blank\" rel=\"noopener noreferrer\">requirements</a>).</p>\n        <form onSubmit={this.handleSubmit}>\n          <h3>MQTT {this.props.config && this.props.config.mqttBrokerUrl && mqttOk}</h3>\n          <label>\n            Broker URL:\n            <input type=\"url\" value={this.state.mqttBrokerUrl} name=\"mqttBrokerUrl\" placeholder=\"ws://mqtt-broker:port\" onChange={this.handleChange} />\n          </label>\n          <label>\n            <input type=\"checkbox\" name=\"mqttAuthChecked\" onChange={this.handleChange}\n                checked={this.state.mqttAuthChecked} /> use authentication\n          </label>\n          <br/>\n          {this.state.mqttAuthChecked && this.renderMqttAuthForm()}\n          <br/>\n          <h3>Domoticz {this.props.config && this.props.config.domoticzUrl && domoticzOk}</h3>\n          <label>\n            Server URL:\n            <input type=\"url\" value={this.state.domoticzUrl} name=\"domoticzUrl\" placeholder=\"http://domoticz-server:port\" onChange={this.handleChange} />\n          </label>\n          <label>\n            <input type=\"checkbox\" name=\"domoticzAuthChecked\" onChange={this.handleChange}\n                checked={this.state.domoticzAuthChecked} /> use authentication\n          </label>\n          <br/>\n          {this.state.domoticzAuthChecked && this.renderDomoticzAuthForm()}\n          <br /><input type=\"submit\" value=\"Apply &amp; Save\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default SettingsView;\n","const Themes = {\n  'Default' : {\n    appBackground: 'white',\n    appText: '#3a3a3a',\n    background: 'white',\n    buttonMixed: '#4a4a4a',\n    buttonOff: '#8a8a8a',\n    buttonOn: '#ffbc00',\n    menuIcon: '#666',\n    menuIconSelected: '#ffbc00',\n    overlayBackground: 'rgba(255, 255, 255, .85)',\n    overlayText: '#666',\n    text: '#666',\n    textMixed: 'white',\n    textOff: 'white',\n    textOn: '#3E2723',\n    unlockedBackground: '#eeeeee'\n  },\n  'Lighter' : {\n    appBackground: 'white',\n    appText: '#3a3a3a',\n    background: 'white',\n    buttonMixed: '#808080',\n    buttonOff: '#eee',\n    buttonOn: '#ffbc00',\n    menuIcon: '#666',\n    menuIconSelected: '#ffbc00',\n    overlayBackground: 'rgba(255, 255, 255, .85)',\n    overlayText: '#666',\n    text: '#808080',\n    textMixed: '#808080',\n    textOff: '#808080',\n    textOn: 'white',\n    unlockedBackground: '#eeeeee'\n  },\n  'Light Blue' : {\n    appBackground: 'white',\n    appText: 'black',\n    background: '#99CCFF',\n    buttonMixed: '#4a4a4a',\n    buttonOff: '#8a8a8a',\n    buttonOn: '#3366FF',\n    menuIcon: '#666',\n    menuIconSelected: '#3366FF',\n    overlayBackground: 'rgba(255, 255, 255, .85)',\n    overlayText: '#666',\n    text: 'black',\n    textMixed: 'white',\n    textOff: 'white',\n    textOn: 'white',\n    unlockedBackground: '#eeeeee'\n  },\n  'Light Green' : {\n    appBackground: 'white',\n    appText: 'black',\n    background: '#66FF99',\n    buttonMixed: '#4a4a4a',\n    buttonOff: '#8a8a8a',\n    buttonOn: '#009900',\n    menuIcon: '#666',\n    menuIconSelected: '#009900',\n    overlayBackground: 'rgba(255, 255, 255, .85)',\n    overlayText: '#666',\n    text: 'black',\n    textMixed: 'white',\n    textOff: 'white',\n    textOn: 'white',\n    unlockedBackground: '#eeeeee'\n  },\n  'Dark Grey' : {\n    appBackground: '#303030',\n    appText: '#F5F5F5',\n    background: '#424242',\n    buttonMixed: '#607D8B',\n    buttonOff: '#616161',\n    buttonOn: '#607D8B',\n    menuIcon: '#607D8B',\n    menuIconSelected: '#F5F5F5',\n    overlayBackground: 'rgba(66, 66, 66, 0.85)',\n    overlayText: '#90A4AE',\n    text: '#F5F5F5',\n    textMixed: '#F5F5F5',\n    textOff: '#F5F5F5',\n    textOn: '#F5F5F5',\n    unlockedBackground: 'repeating-linear-gradient(45deg, #607D8B, #607D8B 5px, #90A4AE 10px, #90A4AE 20px)'\n  },\n  'Dark' : {\n    appBackground: '#636363',\n    appText: '#dadada',\n    background: 'rgba(37, 37, 37, .1)',\n    buttonMixed: 'rgba(37, 37, 37, .9)',\n    buttonOff: 'rgba(37, 37, 37, .4)',\n    buttonOn: 'rgba(37, 37, 37, .9)',\n    menuIcon: 'rgba(33, 33, 33, .9)',\n    menuIconSelected: '#dadada',\n    overlayBackground: 'rgba(68, 68, 68, .8)',\n    overlayText: '#dadada',\n    text: '#dadada',\n    textMixed: '#dadada',\n    textOff: '#dadada',\n    textOn: '#dadada',\n    unlockedBackground: 'rgba(51, 51, 51, .9)'\n  }\n}\nexport default Themes\n","import React, { Component } from 'react';\nimport {Responsive, WidthProvider} from 'react-grid-layout';\nimport AboutView from './AboutView';\nimport ConfigStorageHelper from './util/ConfigStorageHelper';\nimport DeviceListView from './DeviceListView';\nimport DeviceWidget from './widgets/DeviceWidget';\nimport JSONClientSingleton from './util/JSONClientSingleton';\nimport LZString from 'lz-string';\nimport LoadingWidget from './widgets/LoadingWidget';\nimport LocalStorage from './util/LocalStorage';\nimport MqttClientSingleton from './util/MqttClientSingleton';\nimport SceneWidget from './widgets/SceneWidget';\nimport Screensaver from './Screensaver';\nimport SettingsView from './SettingsView';\nimport Themes from './Themes';\nimport './App.css';\nimport '../node_modules/react-grid-layout/css/styles.css';\nimport '../node_modules/react-resizable/css/styles.css';\n\nconst ResponsiveGridLayout = WidthProvider(Responsive);\n\nconst MAX_SCREENSAVER_DELAY_SEC = 3600;\nconst DELAY_OFF_VALUE = -1;\n\nconst View = {\n  DASHBOARD: 1,\n  DEVICE_LIST: 2,\n  SERVER_SETTINGS: 3,\n  ABOUT: 4\n}\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      menuOpen: false,\n      currentView: View.DASHBOARD,\n      layoutLocked: true,\n      serverConfig: {\n        mqttBrokerUrl: '',\n        mqttLogin: '',\n        mqttPassword: '',\n        domoticzUrl: '',\n        domoticzLogin: '',\n        domoticzPassword: ''\n      },\n      serverStatus: {\n        mqtt: false,\n        domoticz: false,\n      },\n      lastMqttMessage: null,\n      configId: 0,\n      configName: '',\n      multiConfig: false,\n      devices: {},\n      deviceSpecs: {},\n      layout: [],\n      whitelist: [],\n      zoom: 1,\n      screensaverConfig: {\n        delay: -1,\n        type: \"blank\"\n      },\n      themeId: 'Default',\n      theme: {}\n    };\n    this.json = new JSONClientSingleton();\n    this.json.setEventHandler(this.domoticzEventHandler);\n    this.mqtt = new MqttClientSingleton();\n    this.mqtt.setEventHandler(this.mqttEventHandler);\n    this.store = new LocalStorage();\n    this.configHelper = new ConfigStorageHelper();\n  }\n\n  componentWillMount() {\n    const storedServerConfig = this.store.read('serverConfig');\n    const themeId = this.store.read('themeId') || this.state.themeId;\n    const zoom = this.store.read('zoom') || this.state.zoom;\n    const screensaverConfig = this.store.read('screensaverConfig') || this.state.screensaverConfig;\n    const configId = this.readConfigIdFromUrlParam();\n    const configs = this.configHelper.getConfigs();\n    const config = this.configHelper.getConfig(configId) || {};\n    const configName = config.name || 'Dashboard';\n    this.setState({\n      whitelist: config.whitelist || [],\n      layout: config.layout || [],\n      configId: configId,\n      configName: configName,\n      multiConfig: configs.length > 1,\n      zoom: zoom,\n      screensaverConfig: screensaverConfig,\n      themeId: themeId,\n      theme: Themes[themeId] || {}\n    });\n    if (storedServerConfig) {\n      this.setState({serverConfig: storedServerConfig});\n    }\n    this.setState({ multiConfig: this.configHelper.getConfigs().length > 1});\n    window.onpopstate = this.handlePopstate;\n    this.updateDocumentTitle(configName);\n  }\n\n  componentDidMount() {\n    this.connectClients(this.state.serverConfig);\n    this.readSharedConfigFromUrl();\n    if (this.hasWhitelistedScenes()) {\n      this.requestScenesStatus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.json.setEventHandler(() => {});\n    this.mqtt.setEventHandler(() => {});\n  }\n\n  handlePopstate = (event) => {\n    if (event.state && event.state.id !== undefined) {\n      this.loadConfig(event.state.id, true /* opt_noHistoryPush */ );\n    }\n  }\n\n  connectClients(config) {\n    this.mqtt.connect(config.mqttBrokerUrl, config.mqttLogin, config.mqttPassword);\n    this.json.setServerUrl(config.domoticzUrl, config.domoticzLogin, config.domoticzPassword);\n  }\n\n  mqttEventHandler = (eventType, opt_data = null) => {\n    switch (eventType) {\n      case 'connected':\n        this.setState({serverStatus:\n            Object.assign(this.state.serverStatus, {mqtt: !!opt_data})});\n        if (opt_data === true) {\n          for (let i = 0; i < this.state.whitelist.length; i++) {\n            this.requestDeviceStatus(this.state.whitelist[i]);\n          }\n        }\n        break;\n      case 'error':\n        // nothing to do here for now.\n        break;\n      case 'message':\n        if (this.state.whitelist.indexOf('d|' + opt_data.idx) >= 0) {\n          const devices = Object.assign({}, this.state.devices);\n          devices['d|' + opt_data.idx] = opt_data;\n          this.setState({devices: devices});\n          // Update scene status (with a little debounce check).\n          if (this.hasWhitelistedScenes()) {\n            this.requestScenesStatus(true /* opt_throttle */);\n          }\n        }\n        this.render();\n        break;\n      default:\n        console.log('unknown event type from MqttClientSingleton', eventType);\n        break;\n    }\n  }\n\n  domoticzEventHandler = (eventType, opt_data = null) => {\n    switch (eventType) {\n      case 'connected':\n        this.setState({serverStatus:\n            Object.assign(this.state.serverStatus, {domoticz: !!opt_data})});\n        break;\n      default:\n        console.log('unknown event type from JSONClientSingleton', eventType);\n        break;\n    }\n  }\n\n  updateDocumentTitle = (configName) => {\n    if (document) {\n      document.title = configName ? configName + ' | Reacticz' : 'Reacticz';\n    }\n  }\n\n  readConfigIdFromUrlParam() {\n    const param = Number(document.location.search.slice(1));\n    if (param >= 0 && Math.round(param) === param) {\n      if (this.configHelper.getConfig(param)) {\n        return param;\n      }\n      return 0;\n    }\n    return 0;\n  }\n\n  getPrevConfig = () => {\n    this.getNewConfig(true /* opt_prev */);\n  }\n\n  getNextConfig = () => {\n    this.getNewConfig();\n  }\n\n  getNewConfig = (opt_prev = false) => {\n    const newId = this.configHelper.getNextId(this.state.configId, opt_prev);\n    this.loadConfig(newId);\n  }\n\n  loadConfig(id, opt_noHistoryPush = false) {\n    const config = this.configHelper.getConfig(id);\n    if (!config) {\n      console.log('Unable to load config with id ' + id);\n      return;\n    }\n    this.setState({\n      configId: id,\n      configName: config.name,\n      layout: config.layout,\n      whitelist: config.whitelist\n    });\n    !opt_noHistoryPush && window.history.pushState({id: id}, '', '?' + id);\n    this.setState({\n      multiConfig: this.configHelper.getConfigs().length > 1,\n      layoutLocked: true\n    });\n    this.updateDocumentTitle(config.name);\n    for (let i = 0; i < config.whitelist.length; i++) {\n      this.requestDeviceStatus(config.whitelist[i]);\n    }\n  }\n\n  deleteCurrentConfig = () => {\n    if (!window.confirm('Delete this dashboard ?')) {\n      return;\n    }\n    this.configHelper.deleteConfig(this.state.configId);\n    const nextConfigId =\n        this.configHelper.getConfigs().length >= this.state.configId + 1 ?\n        this.state.configId : 0;\n    this.loadConfig(nextConfigId);\n  }\n\n  readSharedConfigFromUrl = (opt_param) => {\n    const param = opt_param || document.location.hash.slice(1);\n    if (!param) {\n      return;\n    }\n    if (window.confirm(\n      'Reacticz configuration parameters detected! Apply here?\\n' +\n      '\\nNote: if a dashboard configuration is found in the parameters and ' +\n      'your already have one setup here, a new separate dashboard will be ' +\n      'created.')) {\n      try {\n        const config =\n            JSON.parse(LZString.decompressFromEncodedURIComponent(param));\n        config.s && this.handleServerConfigChange(config.s);\n        config.t && this.handleThemeChange(config.t);\n        if (config.w) {\n          // Importing dashboard config.\n          if (this.state.whitelist.length > 0) {\n            console.log('adding config');\n            // Don't override the current dahboard.\n            this.loadConfig(this.configHelper.addConfig({\n              name: config.n || 'Imported dashboard',\n              layout: config.l || [],\n              whitelist: config.w || []\n            }));\n            return;\n          }\n          this.handleConfigNameChange(config.n || 'Imported dashboard');\n          this.handleDeviceListChange(config.w || []);\n          this.storeConfigChange({layout: config.l || []});\n          this.setState({layout: config.l || []});\n        }\n      } catch (e) {\n        console.log(e);\n        alert('Sorry, something went wrong. The configuration could not be read.');\n      }\n    }\n    document.location.hash = '';\n  }\n\n  importConfigPrompt = () => {\n    const url = prompt('Please paste the full configuration URL to import.\\n\\n'\n        + 'This URL can be found in the About page of a configured Reacticz '\n        + 'dashboard.');\n    if (url && url.split('#').length === 2) {\n      this.readSharedConfigFromUrl(url.split('#')[1]);\n    }\n  }\n\n  handleServerConfigChange = (config) => {\n    this.setState({serverConfig: config});\n    this.store.write('serverConfig', config);\n    this.connectClients(config);\n  }\n\n  handleThemeChange = (themeId) => {\n    const theme = Themes[themeId];\n    if (theme) {\n      this.setState({themeId: themeId, theme: theme});\n      this.store.write('themeId', themeId);\n    }\n  }\n\n  handleZoomChange = (zoom) => {\n    this.setState({zoom: zoom});\n    this.store.write('zoom', zoom);\n  }\n\n  handleScreensaverConfigChange = (config = {}) => {\n    config.delay = config.delay !== DELAY_OFF_VALUE ? Math.abs(Math.min(config.delay, MAX_SCREENSAVER_DELAY_SEC)) : config.delay;\n    this.setState({\n      screensaverConfig: config\n    });\n    this.store.write('screensaverConfig', config);\n  }\n\n  handleConfigNameChange = (configName) => {\n    this.setState({configName: configName});\n    this.storeConfigChange({name: configName});\n  }\n\n  storeConfigChange = (partialConfigObject) => {\n    this.configHelper.storeConfigChange(\n        this.state.configId, partialConfigObject);\n  }\n\n  handleDeviceListChange = (list) => {\n    const devices = Object.assign({}, this.state.devices);\n    // Delete device info for devices that were removed from the whitelist.\n    for (let i = 0; i < this.state.whitelist.length; i++) {\n      const id = this.state.whitelist[i];\n      if (list.indexOf(id) < 0) {\n        delete devices[id];\n      }\n    }\n    this.setState({whitelist: list, devices: devices});\n    this.storeConfigChange({whitelist: list})\n    this.cleanupLayout(list);\n    for (let i = 0; i < list.length; i++) {\n      if (!devices[list[i]]) {\n        this.requestDeviceStatus(list[i]);\n      }\n    }\n    if (this.hasWhitelistedScenes(list)) {\n      this.requestScenesStatus();\n    }\n  }\n\n  removeDevice = (id) => {\n    if (window.confirm('Remove this widget ?')) {\n      const whitelist = this.state.whitelist.slice(0);\n      whitelist.splice(whitelist.indexOf(id), 1);\n      this.handleDeviceListChange(whitelist);\n    }\n  }\n\n  requestDeviceStatus = (id) => {\n    const explodedId = id.split('|');\n    if (explodedId[0] !== 'd') {\n      // Not a device type.\n      return;\n    }\n    const idx = parseInt(id.split('|')[1], 10);\n    this.mqtt.publish({'command': 'getdeviceinfo', 'idx': idx });\n  }\n\n  hasWhitelistedScenes(opt_list) {\n    const list = opt_list || this.state.whitelist;\n    return list.some((id) => (id[0] === 's' || id[0] === 'g'));\n  }\n\n  requestDeviceSpec = (id) => {\n    const explodedId = id.split('|');\n    if (explodedId[0] !== 'd') {\n      // Not a device type.\n      return;\n    }\n    this.json.get({type: 'devices', rid: explodedId[1] }, (data) =>{\n      const deviceSpecs = Object.assign({}, this.state.deviceSpecs);\n      deviceSpecs[id] = data.result[0];\n      this.setState({deviceSpecs: deviceSpecs});\n    });\n  }\n\n  requestScenesStatus = (opt_throttle = false) => {\n    const getScenes = opt_throttle ?\n        this.json.getAllScenesThrottled : this.json.getAllScenes;\n    getScenes((data) => {\n      if (data.status !== \"OK\") {\n        alert(\"Unable to get scenes status.\");\n        return;\n      }\n      const scenes = data.result;\n      const devices = Object.assign({}, this.state.devices);\n      for (let i = 0; i < scenes.length; i++) {\n        const scene = scenes[i];\n        const fullId = (scene.Type === 'Group' ? 'g' : 's') + '|' + scene.idx;\n        if (this.state.whitelist.indexOf(fullId) >= 0) {\n          devices[fullId] = scene;\n        }\n      }\n      this.setState({devices: devices});\n    });\n  }\n\n  toggleMenu = () => {\n    this.setState({ 'menuOpen': !this.state.menuOpen });\n  }\n\n  toggleSettings = () => {\n    this.setState({\n      'currentView': View.SERVER_SETTINGS,\n      'layoutLocked': true });\n  }\n\n  toggleDeviceList = () => {\n    this.setState({\n      'currentView': View.DEVICE_LIST,\n      'layoutLocked': true });\n  }\n\n  toggleAbout = () => {\n    this.setState({\n      'currentView': View.ABOUT,\n      'layoutLocked': true });\n  }\n\n  toggleLayoutEdit = () => {\n    this.setState({ 'layoutLocked': !this.state.layoutLocked });\n  }\n\n  toMainView = () => {\n    this.setState({ 'currentView': View.DASHBOARD });\n  }\n\n  cleanupLayout(list) {\n    // Clear layout items for devices that are no longer present.\n    const ids = [];\n    let maxY = -1;\n    const updatedLayout = this.state.layout.filter(function(deviceLayout) {\n      ids.push(deviceLayout.i);\n      maxY = Math.max(deviceLayout.y, maxY);\n      return list.indexOf(deviceLayout.i) >= 0;\n    }, this);\n    // Add missing layouts\n    for (let i = 0; i < list.length; i++) {\n      const deviceId = list[i];\n      if (ids.indexOf(deviceId) < 0) {\n        updatedLayout.push({x: 0, y: ++maxY, w: 2, h: 1, i: deviceId})\n      }\n    };\n    this.setState({layout: updatedLayout});\n    this.storeConfigChange({layout: updatedLayout});\n  }\n\n  onLayoutChange = (layout) => {\n    this.setState({layout: layout});\n    this.storeConfigChange({'layout': layout});\n  }\n\n  renderCurrentView = (opt_forceView = null) => {\n    const view = opt_forceView || this.state.currentView;\n    switch (view) {\n      case View.ABOUT:\n        return (<AboutView appState={this.state} themes={Themes}\n            zoom={this.state.zoom}\n            screensaverConfig={this.state.screensaverConfig}\n            configName={this.state.configName}\n            onThemeChange={this.handleThemeChange}\n            onZoomChange={this.handleZoomChange}\n            onScreensaverConfigChange={this.handleScreensaverConfigChange}\n            multiConfig={this.state.multiConfig} />);\n      case View.SERVER_SETTINGS:\n        return (<SettingsView config={this.state.serverConfig}\n            serverStatus={this.state.serverStatus}\n            onChange={this.handleServerConfigChange}\n            importConfigPrompt={this.importConfigPrompt} />);\n      case View.DEVICE_LIST:\n        return (<DeviceListView onWhitelistChange={this.handleDeviceListChange}\n            idxWhitelist={this.state.whitelist} name={this.state.configName}\n            onNameChange={this.handleConfigNameChange} />);\n      default:\n        if (this.state.whitelist.length === 0) {\n          return (\n            <div className=\"addDevices\">\n              {!this.state.multiConfig && <h2>Welcome to your Reacticz dashboard!</h2>}\n              {this.state.multiConfig && <h2>This is a new blank dashboard!</h2>}\n              {this.state.multiConfig && <p>Use the arrows (<svg className='icon'><use xlinkHref=\"#navigate-before\" /></svg> and <svg className='icon'><use xlinkHref=\"#navigate-next\" /></svg>) at the bottom to switch between your dashboards.</p>}\n              <p>This dashboard is currently empty. Open the menu at the top right (<svg className='icon'><use xlinkHref=\"#settings\" /></svg>) and go to the devices list screen (<svg className='icon'><use xlinkHref=\"#playlist-add-check\" /></svg>) to select the widgets you want to add.</p>\n              <p>Then come back here (<svg className='icon'><use xlinkHref=\"#home\" /></svg>) and unlock the layout (<svg className='icon'><use xlinkHref=\"#lock\" /></svg>) to drag and resize the widgets however you like.</p>\n              <p>That's it!</p>\n            </div>\n          );\n        }\n        const widgets = this.state.layout.map(function(deviceLayout) {\n          const deviceId = deviceLayout.i;\n          const device = this.state.devices[deviceId];\n          if (!device) {\n            // Device not available\n            return (<div key={deviceId} className=\"gridItem\">\n                <LoadingWidget onRemove={() => this.removeDevice(deviceId)}\n                    theme={this.state.theme}/></div>);\n          }\n          let widget = '';\n          if (device.Type === 'Group' || device.Type === 'Scene') {\n            widget = <SceneWidget\n                readOnly={!this.state.layoutLocked}\n                key={'item'+ deviceId}\n                scene={device}\n                onChange={this.requestScenesStatus}\n                theme={this.state.theme} />\n          } else {\n          widget = <DeviceWidget\n              className=\"widget\"\n              layoutWidth={deviceLayout.w}\n              readOnly={!this.state.layoutLocked}\n              key={'item'+ deviceId}\n              device={device}\n              requestDeviceSpec={() => this.requestDeviceSpec(deviceId)}\n              deviceSpec={this.state.deviceSpecs[deviceId]}\n              theme={this.state.theme} />\n          }\n          return (\n            <div key={deviceId} className={this.state.layoutLocked ? 'gridItem':'gridItem resizeable'}>\n              {widget}\n            </div>\n          );\n        }, this);\n        const style = {\n          fontSize: (100 * this.state.zoom) + '%'\n        };\n        return (\n            <ResponsiveGridLayout\n                layouts={{lg:this.state.layout}}\n                onDragStop={this.onLayoutChange}\n                onResizeStop={this.onLayoutChange}\n                isDraggable={!this.state.layoutLocked}\n                isResizable={!this.state.layoutLocked}\n                compactType={null}\n                breakpoints={{lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0}}\n                cols={{lg: 12, md: 10, sm: 8, xs: 6, xxs: 4}}\n                className=\"layout\"\n                style={style}\n                items={this.state.whitelist.length}\n                rowHeight={100}>\n              {widgets}\n            </ResponsiveGridLayout>);\n    }\n  }\n\n  renderFooter(showFooter) {\n      const footerStyle = {\n        background: this.state.theme.overlayBackground,\n        color: this.state.theme.overlayText,\n        fill: this.state.theme.menuIcon,\n        fontSize: (100 * this.state.zoom) + '%',\n        height:(50 * this.state.zoom) + 'px',\n        lineHeight: (50 * this.state.zoom) + 'px',\n      };\n      return (\n          <div className={'footer' + (showFooter ? '' : ' hidden')} style={footerStyle}>\n            <div className=\"left\">\n              {this.state.layoutLocked && this.state.multiConfig &&\n                <button title=\"Previous Layout\" onClick={this.getPrevConfig}>\n                  <svg className=\"icon\"><use xlinkHref=\"#navigate-before\" /></svg>\n                </button>\n              }\n              {!this.state.layoutLocked && this.state.multiConfig &&\n                <button title=\"Delete\" onClick={this.deleteCurrentConfig}>\n                  <svg className=\"icon\"><use xlinkHref=\"#delete\" /></svg>\n                </button>\n              }\n            </div>\n            <div className=\"right\">\n              {this.state.layoutLocked && this.state.multiConfig &&\n                <button title=\"Next Layout\" onClick={this.getNextConfig}>\n                  <svg className=\"icon\"><use xlinkHref=\"#navigate-next\" /></svg>\n                </button>\n              }\n              {!this.state.layoutLocked &&\n                <button title=\"Add a new dashboard\" onClick={() => this.loadConfig(this.configHelper.addConfig())}>\n                  <svg className=\"icon\"><use xlinkHref=\"#add\" /></svg>\n                </button>\n              }\n            </div>\n            <div className=\"title\">{this.state.configName}</div>\n          </div>);\n  }\n\n  render() {\n    const shouldConfigure = !this.state.serverConfig.mqttBrokerUrl || !this.state.serverConfig.domoticzUrl;\n    const view = this.renderCurrentView(shouldConfigure ? View.SERVER_SETTINGS : undefined);\n    const currentView = this.state.currentView;\n    const menuIconStyle = {\n      fill: this.state.theme.menuIcon\n    };\n    const menuIconSelectedStyle = {\n      fill: this.state.theme.menuIconSelected\n    };\n    const appStyle = {\n      background: this.state.theme.appBackground,\n      color: this.state.theme.appText,\n      fill: this.state.theme.appText\n    };\n\n    const appBarStyle = {\n      background: this.state.menuOpen ? this.state.theme.overlayBackground : '',\n      display: shouldConfigure ? 'none' : ''\n    };\n    if (document) {\n      document.body.style.background = this.state.theme.appBackground;\n    }\n    const showFooter = (currentView === View.DASHBOARD || currentView === View.DEVICE_LIST) && (this.state.multiConfig || !this.state.layoutLocked);\n\n    return (\n      <div className=\"App\" style={appStyle}>\n        <div key='menu' className={this.state.menuOpen ? 'appbar open' : 'appbar'} style={appBarStyle}>\n          <button key='toggle' title='Menu' onClick={this.toggleMenu}>\n            <svg className=\"icon\" style={menuIconStyle}><use xlinkHref=\"#settings\" /></svg>\n          </button>\n          {currentView !== View.DASHBOARD &&\n               <button onClick={this.toMainView} title='Home'>\n               <svg className='icon' style={menuIconStyle}><use xlinkHref=\"#home\" /></svg></button>}\n          {currentView === View.DASHBOARD &&\n               <button onClick={this.toggleLayoutEdit} title='Layout lock'>\n               <svg className='icon' style={(currentView === View.DASHBOARD ? menuIconSelectedStyle : menuIconStyle)}><use xlinkHref={this.state.layoutLocked ? '#lock' : '#lock-open'} /></svg></button>}\n          <button onClick={this.toggleDeviceList} title='Device selection'>\n            <svg className='icon' style={(currentView === View.DEVICE_LIST ? menuIconSelectedStyle : menuIconStyle)}><use xlinkHref='#playlist-add-check' /></svg>\n          </button>\n          <button onClick={this.toggleSettings} title='Server settings'>\n            <svg className='icon' style={(currentView === View.SERVER_SETTINGS ? menuIconSelectedStyle : menuIconStyle)}><use xlinkHref='#router' /></svg>\n          </button>\n          <button onClick={this.toggleAbout} title='About'>\n            <svg className='icon' style={(currentView === View.ABOUT ? menuIconSelectedStyle : menuIconStyle)}><use xlinkHref='#info-outline' /></svg>\n          </button>\n        </div>\n        {view}\n        {this.renderFooter(showFooter)}\n        {this.state.screensaverConfig.delay >= 0 && <Screensaver type={this.state.screensaverConfig.type} delay={this.state.screensaverConfig.delay} theme={this.state.theme} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjU1N0I2MTJDNkIxMTFFNkI4NzZBMEZDRUJGNjJENEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjU1N0I2MTNDNkIxMTFFNkI4NzZBMEZDRUJGNjJENEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCNTU3QjYxMEM2QjExMUU2Qjg3NkEwRkNFQkY2MkQ0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCNTU3QjYxMUM2QjExMUU2Qjg3NkEwRkNFQkY2MkQ0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PihWDj4AAADvSURBVHja7NnBDYMwDIVhXLFAOkpX6NxdgVGaEdJyqdRLDjjENv59gUsUvU8Rwo601pbMdVuS1/p7e4nNUXg2qbUe2ruUIvtTsz79CQAAAAAAAAAAAAAAAAAAcpYwD2AeoJwHfPt5bU9uuTcfQQAAAAAAAAAAAAAAAACAeQDtsKIlVa3vrK2Pd7+VvnI73At/+W/AjPBuAWaFdwkwM7w7gNnhXQFYhHcDYBU+9J9g2e55AUaFDwkwMnw4gNHhQwGcET4MwFnh/9thbTcYtLgeH/YzY3g9zgkAAAAAAAAAAAAAAAAAAAA4PA9IWh8BBgC4WVSECBuukwAAAABJRU5ErkJggg==\"","\nclass LocalStorage {\n  constructor() {\n    let hasLocalStorage = 'localStorage' in global;\n    this.ls = null;\n    if (hasLocalStorage) {\n      const testKey = 'localstorage.test-key';\n      try {\n        this.ls = global.localStorage;\n        this.ls.setItem(testKey, 'foo');\n        this.ls.removeItem(testKey);\n      } catch (e) {\n        hasLocalStorage = false;\n      }\n    } else {\n      console.log('Localstorage not supported !');\n    }\n  }\n\n  write(key, data) {\n    this.ls && this.ls.setItem(key, JSON.stringify(data));\n  }\n\n  read(key) {\n    if (this.ls) {\n      return JSON.parse(this.ls.getItem(key));\n    }\n    return null;\n  }\n\n  getKeys() {\n    if (this.ls) {\n      return Object.keys(this.ls);\n    }\n    return [];\n  }\n\n  delete(key) {\n    this.ls && this.ls.removeItem(key);\n  }\n\n}\n\nexport default LocalStorage;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport './Slider.css';\n\nconst HORIZONTAL_THRESHOLD_RAD = 1;\n\nclass Slider extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      throttleTimeoutId: null,\n      touchStartData: null,\n      ignoringMove: false,\n      fadeTimeoutId: null,\n      showBar: false,\n      value: this.props.value\n    }\n    this.touchTarget = null;\n  }\n\n  componentDidMount = () => {\n    this.touchTarget = ReactDOM.findDOMNode(this);\n  }\n\n  updateValue = (value) => {\n    this.setState({showBar: true});\n    this.setState({value: value});\n    if (this.props.throttle) {\n      global.clearTimeout(this.state.throttleTimeoutId);\n      this.setState({\n        throttleTimeoutId: global.setTimeout(\n            this.emitChange, this.props.throttle)});\n    } else {\n      this.emitChange(value);\n    }\n    global.clearTimeout(this.state.fadeTimeoutId);\n    this.setState({fadeTimeoutId: global.setTimeout(this.fadeBar, 1000)});\n  }\n\n  emitChange = (opt_value) => {\n    this.props.onChange(\n        opt_value !== undefined ? opt_value : this.state.value);\n  }\n\n  onTouchStart = (event) => {\n    if (this.props.disabled) {\n      return;\n    }\n    this.setState({touchStartData: {\n      x: event.touches[0].pageX,\n      y: event.touches[0].pageY,\n      rect: this.touchTarget.getBoundingClientRect()\n    }, ignoringMove: false});\n  }\n\n  onTouchMove = (event) => {\n    if (this.props.disabled || this.state.ignoringMove) {\n      return;\n    }\n    const touch = event.changedTouches[0];\n    const angle = Math.atan2(\n        touch.pageY - this.state.touchStartData.y,\n        touch.pageX - this.state.touchStartData.x);\n    const isVertical =\n        (Math.abs(Math.abs(angle) - Math.PI / 2)) <= HORIZONTAL_THRESHOLD_RAD;\n    if (isVertical) {\n      this.setState({ignoringMove: true});\n      return;\n    }\n    const pct = (touch.pageX - this.state.touchStartData.rect.left) /\n        this.state.touchStartData.rect.width;\n    // Clamp value in [0, 1].\n    const targetValue = Math.min(1, Math.max(pct, 0));\n    if (this.state.value !== targetValue) {\n      this.updateValue(targetValue);\n    }\n  }\n\n  onTouchEnd = () => {\n    this.setState({touchStartData: null});\n  }\n\n  onClick = (event) => {\n    if (this.props.disabled) {\n      return;\n    }\n    const rect = this.touchTarget.getBoundingClientRect();\n    let value = (event.pageX - rect.left) / rect.width;\n    // Make slightly larger touch target for value 1 (it's hard to hit the\n    // edge). Border tolerance can be anywhing between zero and 1 (in which case\n    // the slider basically becomes a toggle).\n    const edgeTolerance = this.props.edgeTolerance !== undefined ?\n        this.props.edgeTolerance / 2 : 0.06;\n    if (value >= 1 - edgeTolerance) {\n      value = 1;\n    }\n    this.updateValue(value);\n  }\n\n  fadeBar = () => {\n    this.setState({showBar: false});\n  }\n\n  render() {\n    const valuePct = this.state.value * 100;\n    return (\n      <div className=\"Slider\" onClick={this.onClick}\n            onTouchStart={this.onTouchStart} onTouchMove={this.onTouchMove}\n            onTouchEnd={this.onTouchEnd}>\n        <div className=\"bar\"\n            style={{\n              transform: 'translateX(' + valuePct + '%)',\n              transition: this.state.touchStartData ? 'none' : undefined,\n              opacity: this.state.showBar ? 1 : 0}}>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Slider\n"],"sourceRoot":""}